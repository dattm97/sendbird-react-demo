{"version":3,"sources":["lib/sendbird-calls/SbCallsContext/state.tsx","lib/sendbird-calls/SbCallsContext/context.tsx","lib/sendbird-calls/SbCallsContext/reducer.tsx","lib/sendbird-calls/SbCallsContext/statefy.tsx","lib/sendbird-calls/SbCallsContext/provider.tsx","lib/sendbird-calls/SbCallsContext/useSbCalls.tsx","utils/variables.ts","styles/fonts.ts","styles/mixins.ts","utils/index.ts","components/atoms/Logo/Logo.tsx","components/atoms/Toast/Toast.tsx","components/atoms/Button/Button.tsx","components/atoms/Input/Input.tsx","lib/storage.ts","components/organisms/LoginForm/LoginForm.tsx","components/templates/Screen/Screen.tsx","components/pages/LoginPage/LoginPage.tsx","components/atoms/PrivateRoute/PrivateRoute.tsx","components/atoms/Icon/Icon.tsx","components/atoms/Overlay/Overlay.tsx","components/atoms/ButtonCircle/ButtonCircle.tsx","components/atoms/CallButtons/CallButtons.tsx","components/molecules/Info/Info.tsx","components/templates/Modal/Modal.tsx","components/organisms/DeviceSettings/DeviceSettings.tsx","components/organisms/GroupCall/MediaContent.tsx","components/organisms/RoomCreated/RoomCreated.tsx","components/organisms/GroupCall/GroupCall.tsx","components/organisms/Preview/Preview.tsx","components/organisms/ApplicationInformation/ApplicationInformation.tsx","components/organisms/Menu/Menu.tsx","utils/hooks.tsx","components/organisms/Header/Header.tsx","components/pages/GroupCallMain/GroupCallMain.tsx","components/pages/GroupCallFullScreen/GroupCallFullScreen.tsx","GroupCallApp.tsx","containers/Authenticator.tsx","utils/periodicJob.ts","components/atoms/CallTexts/CallTexts.tsx","components/views/CallView/CallView.tsx","components/views/DialView/DialView.tsx","components/pages/DirectCallMain/DirectCallMain.tsx","components/pages/DirectCallFullScreen/DirectCallFullScreen.tsx","DirectCallApp.tsx","components/molecules/ChoiceItem/ChoiceItem.tsx","components/templates/Choices/ChoicesTemp.tsx","components/pages/LandingPage/LandingPage.tsx","App.tsx","reportWebVitals.ts","index.tsx","lib/sendbird-calls/index.ts"],"names":["initialState","user","undefined","calls","rooms","audioInputDeviceInfo","current","available","audioOutputDeviceInfo","videoInputDeviceInfo","stub","Error","initialContext","isAuthenticated","init","auth","deauth","updateMediaDevices","selectAudioInputDevice","selectAudioOutputDevice","selectVideoInputDevice","isBusy","currentCall","dial","addDirectCallSound","clearCalls","createRoom","getCachedRoomById","fetchRoomById","RoomType","CallContext","createContext","reducer","prevState","action","type","produce","draft","payload","push","castDraft","some","call","isEnded","end","index","findIndex","c","callId","Object","assign","roomId","participant","room","find","pIndex","participants","p","participantId","localParticipant","remoteParticipants","srp","splice","registerDirectCallListeners","dispatchUpdate","onEstablished","callState","onConnected","onReconnected","onReconnecting","onEnded","onRemoteAudioSettingsChanged","isRemoteAudioEnabled","onRemoteVideoSettingsChanged","isRemoteVideoEnabled","statefyRoom","dispatch","updateRoom","part","upsertRemoteParticipant","statefyRemoteParticipant","statefulLocalParticipants","statefyLocalParticipant","statefulRemoteParticipants","map","statefulParticipants","on","error","console","roomType","createdAt","createdBy","enter","params","then","exit","update","enteredAt","updatedAt","exitedAt","duration","isLocalParticipant","state","isAudioEnabled","isVideoEnabled","setMediaView","mediaView","setLocalMediaView","muteMicrophone","unmuteMicrophone","startVideo","stopVideo","statefyDirectCall","registerListener","localUser","userId","caller","callee","isVideoCall","remoteUser","isLocalAudioEnabled","isLocalVideoEnabled","myRole","isOngoing","endedBy","endResult","localMediaView","remoteMediaView","setRemoteMediaView","getDuration","accept","log","SoundType","sdkVersion","SbCallsProvider","appId","children","useReducer","useMemo","useCallback","nAppId","listenerId","SendbirdCall","removeListener","setLoggerLevel","LoggerLevel","ERROR","addListener","onRinging","onAudioInputDeviceChanged","onAudioOutputDeviceChanged","onVideoInputDeviceChanged","audio","video","useEffect","ringingListenerId","authOption","a","authenticate","connectWebSocket","deauthenticate","constraints","mediaInfo","Promise","res","rej","statefulCall","options","statefulRoom","x","callContext","length","Provider","value","useSbCalls","useContext","colors","MEDIA_SIZES","title","css","common","small","normal","midBig","big","heavy","demi","heading4text1","heading2text1","flexCenter","fullScreen","flexColumn","bgWhite","white","navy900","isBrowser","window","isSafari","test","navigator","userAgent","media","keys","reduce","acc","label","mediaMax","StyledLogoMid","styled","div","StyledLogoBig","Logo","size","ErrorIcon","Wrapper","SuccessIcon","ErrorMessage","message","SuccessMessage","primary","sizes","mid","ButtonStyle","button","props","Button","Input","input","fonts","useTextInput","initValue","useState","setValue","onChange","e","target","useInput","st","localStorage","setItem","key","object","JSON","stringify","getItem","parse","removeItem","err","warn","setTimeout","alert","FormContainer","form","main","InputLabel","LoginButton","LoginForm","sbCalls","history","useHistory","query","URLSearchParams","useLocation","search","authArgs","authQuery","get","atob","stored","storage","APP_ID","app_id","process","USER_ID","user_id","REACT_APP_USER_ID","ACCESS_TOKEN","access_token","accessToken","REACT_APP_ACCESS_TOKEN","ROOM_ID","room_id","id","appIdInput","userIdInput","accessTokenInput","login","option","DIALING","RINGING","RECONNECTING","RECONNECTED","catch","toast","autoClose","htmlFor","onClick","Screen","FullScreen","FullScreenContent","mixins","Content","Title","VersionInfo","VersionText","LoginPage","pack","version","SendbirdCalls","PrivateRoute","Component","component","render","url","useRouteMatch","renderProps","set","toString","Icon","src","Overlay","ButtonCircle","CallButton","DialButton","VideoDialButton","AudioDialButton","VideoCallAcceptButton","AudioCallAcceptButton","MuteButton","UnmuteButton","StopVideoButton","StartVideoButton","EndButton","RoomIdWrapper","InfoLabel","InfoInput","InfoInputText","InfoInputIcon","CopyButton","InputWithCopyButton","text","copy","success","InputWithCopyIcon","icon","customStyles","overlay","backgroundColor","content","top","left","right","bottom","marginRight","padding","transform","Header","Close","ICClose","Footer","CancelButton","ConfirmButton","ReactModal","setAppElement","Modal","footer","cancel","confirm","style","shouldCloseOnOverlayClick","onRequestClose","close","SelectContainer","SelectLabel","Select","select","DeviceSettings","isOpen","defaultValue","deviceId","device","info","ParticipantsRow","Math","ceil","rows","ParticipantView","min","height","width","ParticipantInfo","ParticipantOverlay","fillBlack","Avatar","ParticipantMutedIcon","MediaContent","getWindowDimensions","innerWidth","innerHeight","windowDimensions","setWindowDimensions","addEventListener","autoPlay","playsInline","muted","ref","el","profileUrl","Array","fill","i","p1","p2","Text","CreatedByText","RoomInfo","Fragment","marginTop","RoomCreated","Main","ChevronRight","ButtonIcon","UtilityButtons","Side","show","SideTitle","SideClose","Participants","ParticipantWrapper","ParticipantNickname","ParticipantId","Participant","nickname","ShareWrapper","GroupCall","showDeviceSettings","setShowDeviceSettings","showSide","setShowSide","showRoomInfo","setShowRoomInfo","cursor","VideoBox","CheckBoxWrapper","CheckBox","selected","Preview","videoRef","useRef","audioEnabled","setAudioEnabled","videoEnabled","setVideoEnabled","videoHeight","setVideoHeight","mediaAccess","useMedia","stream","srcObject","dispose","max","offsetHeight","ApplicationInformation","currentUser","ItemWrapper","MenuItem","item","element","handleClick","disabled","toggleOpened","MenuItems","Menu","items","Dropdown","Divider","useToggle","opened","handler","handleClickOutside","event","contains","document","removeEventListener","useOnClickOutside","theme","isWidget","Items","UserDiv","Profile","Info","Nickname","UserId","UserDetail","MenuDivider","HeaderButtons","SettingsButton","CloseButton","HeaderLogo","useTheme","showAppInfo","setShowAppInfo","getElementById","click","Description","Boxes","FormBox","FormBoxIcon","FormBoxTitle","FormBoxDescription","FormButton","TextButton","FormInput","GroupCallMain","roomIdQuery","placeholder","roomIdInput","isModalOpen","setIsModalOpen","showRoomCreated","setShowRoomCreated","onCall","r","skipDialog","SMALL_ROOM_FOR_VIDEO","className","contentLabel","GroupCallFullScreen","path","exact","GroupCallApp","to","Authenticator","PeriodicJob","jobFunc","interval","lastResult","count","timer","this","stop","setInterval","clearInterval","CallingText","frame","setFrame","job","start","RingingText","Foreground","PeerProfile","img","PeerName","ConnectionInfo","PeerState","PeerMuteIcon","PeerMuteLabel","Background","VideoViewDiv","getVideoStyleFromSize","VideoView","Controls","CallView","localMediaViewSize","remoteMediaViewSize","localMediaViewRef","node","remoteMediaViewRef","callOption","is","states","isNot","connectedStates","controls","alt","ButtonsGroup","DialView","sbCall","Contents","DirectCallMain","location","pathname","replace","header","DirectCallFullScreen","DirectCallApp","ChoiceItemWrapper","hasIcon","ChoiceItem","choice","desc","hasBack","Layout","Choices","tablet","BackWrapper","BackIcon","Back","goBack","ChoicesTemp","choices","matchRelativeUrl","substr","LandingPage","App","position","transition","Flip","hideProgressBar","closeOnClick","pauseOnFocusLoss","draggable","pauseOnHover","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.40b679ee.chunk.js","sourcesContent":["import { Immutable } from 'immer';\nimport type {\n  User as SBUser,\n} from 'sendbird-calls';\n\nimport type {\n  StatefulDirectCall,\n  AudioInputDeviceInfo,\n  AudioOutputDeviceInfo,\n  VideoInputDeviceInfo,\n  StatefulRoom,\n} from './types';\n\n/** Types */\nexport type State = {\n  readonly user?: SBUser;\n  readonly calls: StatefulDirectCall[];\n  readonly rooms: StatefulRoom[];\n  readonly audioInputDeviceInfo: AudioInputDeviceInfo,\n  readonly audioOutputDeviceInfo: AudioOutputDeviceInfo,\n  readonly videoInputDeviceInfo: VideoInputDeviceInfo,\n};\n\n/** State */\nexport const initialState: State = {\n  user: undefined,\n  calls: [],\n  rooms: [],\n  audioInputDeviceInfo: { current: undefined, available: [] },\n  audioOutputDeviceInfo: { current: undefined, available: [] },\n  videoInputDeviceInfo: { current: undefined, available: [] },\n};\n","import { createContext } from 'react';\n\nimport { State, initialState } from './state';\nimport type { StatefulDirectCall, StatefulRoom } from './types';\nimport SendbirdCall, { RoomParams, RoomType } from 'sendbird-calls';\nimport type { DialParams } from 'sendbird-calls';\n\n/** Context */\nexport type ContextType = State & {\n  isAuthenticated: boolean;\n  init: (appId: string) => void;\n  auth: typeof SendbirdCall.authenticate; // TODO: Stateful SbUser\n  deauth: () => void;\n\n  // Media Device Control\n  updateMediaDevices: (constraints: { audio: boolean; video: boolean; }) => void;\n  selectAudioInputDevice: (deviceInfo: InputDeviceInfo) => void;\n  selectAudioOutputDevice: (deviceInfo: MediaDeviceInfo) => void;\n  selectVideoInputDevice: (deviceInfo: InputDeviceInfo) => void;\n\n  // Direct Calls\n  isBusy: boolean;\n  currentCall?: StatefulDirectCall;\n  dial: (params: DialParams) => Promise<StatefulDirectCall>;\n  addDirectCallSound: typeof SendbirdCall.addDirectCallSound;\n  clearCalls: () => void;\n\n  // Rooms\n  createRoom: (options: RoomParams) => Promise<StatefulRoom>,\n  getCachedRoomById: (roomId: string) => StatefulRoom | undefined,\n  fetchRoomById: (roomId: string) => Promise<StatefulRoom>,\n  RoomType: typeof RoomType,\n};\n\nconst stub = (): never => {\n  throw new Error('You forgot to wrap your component in <AuthContext>.');\n};\n\nexport const initialContext: ContextType = {\n  ...initialState,\n  isAuthenticated: false,\n  init: stub,\n  auth: stub,\n  deauth: stub,\n\n  // Media Device Control\n  updateMediaDevices: stub,\n  selectAudioInputDevice: stub,\n  selectAudioOutputDevice: stub,\n  selectVideoInputDevice: stub,\n\n  // Direct Calls\n  isBusy: false,\n  currentCall: undefined,\n  dial: stub,\n  addDirectCallSound: stub,\n  clearCalls: stub,\n\n  // Rooms\n  createRoom: stub,\n  getCachedRoomById: stub,\n  fetchRoomById: stub,\n  RoomType: RoomType,\n};\n\nconst CallContext = createContext<ContextType>(initialContext);\n\nexport default CallContext;\n","import { castDraft, produce } from 'immer';\n\nimport type { State } from './state';\nimport { initialState } from './state';\nimport type {\n  StatefulDirectCall,\n  StatefulRoom,\n  AudioInputDeviceInfo,\n  AudioOutputDeviceInfo,\n  VideoInputDeviceInfo,\n  StatefulLocalParticipant,\n  StatefulRemoteParticipant,\n} from './types';\nimport type { User as SBUser } from 'sendbird-calls';\n\n/** Actions */\nexport type Action =\n  | { type: 'AUTH'; payload: SBUser; }\n  | { type: 'DEAUTH'; }\n  | { type: 'ADD_CALL'; payload: StatefulDirectCall; }\n  | { type: 'RINGING'; payload: StatefulDirectCall; }\n  | { type: 'UPDATE_CALL', payload: Partial<StatefulDirectCall>; }\n  | { type: 'CLEAR_CALLS'; }\n  | { type: 'ADD_ROOM'; payload: StatefulRoom; }\n  | { type: 'UPDATE_ROOM', payload: Partial<StatefulRoom>; }\n  | { type: 'UPDATE_ROOM_LOCAL_PARTICIPANT', payload: { roomId: string; participant: Partial<StatefulLocalParticipant>; }; }\n  | { type: 'UPSERT_ROOM_REMOTE_PARTICIPANT', payload: { roomId: string; participant: Partial<StatefulRemoteParticipant>; }; }\n  | { type: 'DELETE_ROOM_REMOTE_PARTICIPANT', payload: { roomId: string; participantId: string; }; }\n  | { type: 'CLEAR_ROOMS'; }\n  | { type: 'UPDATE_AUDIO_INPUT_DEVICE_INFO'; payload: Partial<AudioInputDeviceInfo>; }\n  | { type: 'UPDATE_AUDIO_OUTPUT_DEVICE_INFO'; payload: Partial<AudioOutputDeviceInfo>; }\n  | { type: 'UPDATE_VIDEO_INPUT_DEVICE_INFO'; payload: Partial<VideoInputDeviceInfo>; }\n\n/** Reducer */\nexport const reducer = (prevState: State, action: Action): State => {\n  switch (action.type) {\n    case 'AUTH':\n      return produce(prevState, draft => {\n        draft.user = action.payload;\n      });\n    case 'DEAUTH':\n      return initialState;\n    case 'ADD_CALL':\n      return produce(prevState, draft => {\n        draft.calls.push(castDraft(action.payload));\n      });\n    case 'RINGING': {\n      const isBusy = prevState.calls.some(call => !call.isEnded);\n      const call = action.payload;\n      if (isBusy) {\n        call.end();\n      }\n      return produce(prevState, draft => {\n        draft.calls.push(castDraft(call));\n      });\n    }\n    case 'UPDATE_CALL':\n      return produce(prevState, draft => {\n        const index = draft.calls.findIndex(c => c.callId === action.payload.callId);\n        if (index === -1) return;\n        Object.assign(draft.calls[index], castDraft(action.payload));\n      });\n    case 'CLEAR_CALLS':\n      return produce(prevState, draft => {\n        draft.calls = castDraft(initialState.calls);\n      });\n    case 'ADD_ROOM':\n      return produce(prevState, draft => {\n        draft.rooms.push(castDraft(action.payload));\n      });\n    case 'UPDATE_ROOM':\n      return produce(prevState, draft => {\n        const index = draft.rooms.findIndex(c => c.roomId === action.payload.roomId);\n        if (index === -1) return;\n        Object.assign(draft.rooms[index], castDraft(action.payload));\n      });\n    case 'UPDATE_ROOM_LOCAL_PARTICIPANT':\n      return produce(prevState, draft => {\n        const { roomId, participant } = action.payload;\n        const room = draft.rooms.find(c => c.roomId === roomId);\n        if (!room) return;\n\n        const pIndex = room.participants.findIndex(p => p.participantId === room.localParticipant.participantId);\n\n        Object.assign(room.localParticipant, castDraft(participant));\n        Object.assign(room.participants[pIndex], castDraft(participant));\n      });\n    case 'UPSERT_ROOM_REMOTE_PARTICIPANT':\n      return produce(prevState, draft => {\n        const { roomId, participant } = action.payload;\n        const room = draft.rooms.find(c => c.roomId === roomId);\n        if (!room) return;\n\n        const index = room.remoteParticipants.findIndex(p => p.participantId === participant.participantId);\n        const pIndex = room.participants.findIndex(p => p.participantId === participant.participantId);\n        if (index === -1) {\n          const srp = castDraft(participant as StatefulRemoteParticipant);\n          room.remoteParticipants.push(srp);\n          room.participants.push(srp);\n          return;\n        }\n\n        Object.assign(room.remoteParticipants[index], castDraft(participant));\n        Object.assign(room.participants[pIndex], castDraft(participant));\n      });\n    case 'DELETE_ROOM_REMOTE_PARTICIPANT':\n      return produce(prevState, draft => {\n        const { roomId, participantId } = action.payload;\n        const room = draft.rooms.find(c => c.roomId === roomId);\n        if (!room) return;\n\n        const index = room.remoteParticipants.findIndex(p => p.participantId === participantId);\n        if (index === -1) return;\n        room.remoteParticipants.splice(index, 1);\n\n        const pIndex = room.participants.findIndex(p => p.participantId === participantId);\n        if (index === -1) return;\n        room.participants.splice(pIndex, 1);\n      });\n    case 'CLEAR_ROOMS':\n      return produce(prevState, draft => {\n        draft.rooms = castDraft(initialState.rooms);\n      });\n    case 'UPDATE_AUDIO_INPUT_DEVICE_INFO':\n      return produce(prevState, draft => {\n        draft.audioInputDeviceInfo = { ...prevState.audioInputDeviceInfo, ...action.payload };\n      });\n    case 'UPDATE_AUDIO_OUTPUT_DEVICE_INFO':\n      return produce(prevState, draft => {\n        draft.audioOutputDeviceInfo = { ...prevState.audioOutputDeviceInfo, ...action.payload };\n      });\n    case 'UPDATE_VIDEO_INPUT_DEVICE_INFO':\n      return produce(prevState, draft => {\n        draft.videoInputDeviceInfo = { ...prevState.videoInputDeviceInfo, ...action.payload };\n      });\n    default:\n      return prevState;\n  }\n};\n","import type { Action } from './reducer';\nimport type {\n  StatefulDirectCall,\n  StatefulLocalParticipant,\n  StatefulRemoteParticipant,\n  StatefulRoom,\n} from './types';\nimport type { DirectCall, LocalParticipant, Participant, RemoteParticipant, Room } from 'sendbird-calls';\n\nconst registerDirectCallListeners = (\n  call: DirectCall,\n  dispatchUpdate: (part: Partial<StatefulDirectCall>) => void,\n) => {\n  call.onEstablished = (call: DirectCall) => {\n    dispatchUpdate({ callState: 'established' });\n  };\n  call.onConnected = (call: DirectCall) => {\n    dispatchUpdate({ callState: 'connected' });\n  };\n  call.onReconnected = (call: DirectCall) => {\n    dispatchUpdate({ callState: 'reconnected' });\n  };\n  call.onReconnecting = (call: DirectCall) => {\n    dispatchUpdate({ callState: 'reconnecting' });\n  };\n  call.onEnded = (call: DirectCall) => {\n    dispatchUpdate({ callState: 'ended' });\n  };\n  call.onRemoteAudioSettingsChanged = (call: DirectCall) => {\n    dispatchUpdate({ isRemoteAudioEnabled: call.isRemoteAudioEnabled });\n  };\n  call.onRemoteVideoSettingsChanged = (call: DirectCall) => {\n    dispatchUpdate({ isRemoteVideoEnabled: call.isRemoteVideoEnabled });\n  };\n  // onCustomItemsUpdated() {\n  //\n  // },\n  // onCustomItemsDeleted() {\n  //\n  // },\n};\n\nexport const statefyRoom = (\n  room: Room,\n  dispatch: React.Dispatch<Action>,\n): StatefulRoom => {\n  const dispatchUpdate = (part: Partial<StatefulRoom>) => {\n    const payload = {\n      roomId: room.roomId,\n      ...part,\n    };\n    dispatch({ type: 'UPDATE_ROOM', payload });\n  };\n\n  const updateRoom = () => {\n    dispatchUpdate(statefyRoom(room, dispatch));\n  };\n\n  const updateLocalParticipant = (participant: Partial<StatefulLocalParticipant>) => {\n    dispatch({\n      type: 'UPDATE_ROOM_LOCAL_PARTICIPANT',\n      payload: {\n        roomId: room.roomId,\n        participant,\n      },\n    });\n  };\n  const upsertRemoteParticipant = (participant: RemoteParticipant) => {\n    dispatch({\n      type: 'UPSERT_ROOM_REMOTE_PARTICIPANT',\n      payload: {\n        roomId: room.roomId,\n        participant: statefyRemoteParticipant(participant),\n      },\n    });\n  };\n\n  const deleteRemoteParticipant = (participant: RemoteParticipant) => {\n    dispatch({\n      type: 'DELETE_ROOM_REMOTE_PARTICIPANT',\n      payload: {\n        roomId: room.roomId,\n        participantId: participant.participantId,\n      }\n    })\n  }\n\n  const statefulLocalParticipants = room.localParticipant ? [statefyLocalParticipant(room.localParticipant, updateLocalParticipant)] : [];\n  const statefulRemoteParticipants = room.remoteParticipants.map(statefyRemoteParticipant);\n  const statefulParticipants = [...statefulLocalParticipants, ...statefulRemoteParticipants];\n\n  room.on('remoteParticipantEntered', upsertRemoteParticipant);\n  room.on('remoteParticipantStreamStarted', upsertRemoteParticipant);\n  room.on('remoteParticipantExited', deleteRemoteParticipant);\n  room.on('remoteAudioSettingsChanged', upsertRemoteParticipant);\n  room.on('remoteVideoSettingsChanged', upsertRemoteParticipant);\n  room.on('error', error => {\n    console.error(error); // TODO:\n  });\n  return {\n    roomId: room.roomId,\n    roomType: room.roomType,\n    createdAt: room.createdAt,\n    createdBy: room.createdBy,\n    participants: statefulParticipants,\n    localParticipant: statefulLocalParticipants[0],\n    remoteParticipants: statefulRemoteParticipants,\n    enter(params) {\n      return room.enter(params).then(() => {\n        updateRoom();\n        return;\n      });\n    },\n    exit() {\n      room.exit();\n      updateRoom();\n    },\n  };\n};\n\nexport const statefyLocalParticipant = (\n  participant: LocalParticipant,\n  update: (participant: Partial<StatefulLocalParticipant>) => any,\n): StatefulLocalParticipant => {\n  return {\n    participantId: participant.participantId,\n    enteredAt: participant.enteredAt,\n    updatedAt: participant.updatedAt,\n    exitedAt: participant.exitedAt,\n    duration: participant.duration,\n    isLocalParticipant: participant.isLocalParticipant,\n    state: participant.state,\n    user: participant.user, // TODO: Statefy user\n    isAudioEnabled: participant.isAudioEnabled,\n    isVideoEnabled: participant.isVideoEnabled,\n    setMediaView(mediaView: HTMLMediaElement) {\n      return participant.setMediaView(mediaView);\n    },\n    setLocalMediaView(mediaView: HTMLMediaElement) {\n      return participant.setLocalMediaView(mediaView);\n    },\n    muteMicrophone() {\n      participant.muteMicrophone();\n      update({ isAudioEnabled: false });\n    },\n    unmuteMicrophone() {\n      participant.unmuteMicrophone();\n      update({ isAudioEnabled: true });\n    },\n    startVideo() {\n      participant.startVideo();\n      update({ isVideoEnabled: true });\n    },\n    stopVideo() {\n      participant.stopVideo();\n      update({ isVideoEnabled: false });\n    },\n  };\n};\n\nexport const statefyRemoteParticipant = (\n  participant: RemoteParticipant,\n): StatefulRemoteParticipant => {\n  return {\n    participantId: participant.participantId,\n    enteredAt: participant.enteredAt,\n    updatedAt: participant.updatedAt,\n    exitedAt: participant.exitedAt,\n    duration: participant.duration,\n    isLocalParticipant: participant.isLocalParticipant,\n    state: participant.state,\n    user: participant.user, // TODO: Statefy user\n    isAudioEnabled: participant.isAudioEnabled,\n    isVideoEnabled: participant.isVideoEnabled,\n    setMediaView(mediaView: HTMLMediaElement) {\n      return participant.setMediaView(mediaView);\n    },\n  };\n};\n\nexport const statefyDirectCall = (\n  call: DirectCall,\n  dispatch: React.Dispatch<Action>,\n  registerListener: boolean = true,\n): StatefulDirectCall => {\n  const dispatchUpdate = (part: Partial<StatefulDirectCall>) => {\n    const payload = {\n      callId: call.callId,\n      ...part,\n    };\n    dispatch({ type: 'UPDATE_CALL', payload });\n  };\n\n  if (registerListener) {\n    registerDirectCallListeners(call, dispatchUpdate);\n  }\n\n  return {\n    callState: (call.localUser.userId === call.caller.userId) ? 'dialing' : 'ringing',\n    callId: call.callId,\n    caller: call.caller, // This should not mutate\n    callee: call.callee, // This should not mutate\n    isVideoCall: call.isVideoCall,\n    localUser: call.localUser, // This should not mutate\n    remoteUser: call.remoteUser, // This should not mutate\n    isLocalAudioEnabled: call.isLocalAudioEnabled,\n    isRemoteAudioEnabled: call.isRemoteAudioEnabled,\n    isLocalVideoEnabled: call.isLocalVideoEnabled,\n    isRemoteVideoEnabled: call.isRemoteVideoEnabled,\n    myRole: call.myRole,\n    isOngoing: call.isOngoing,\n    endedBy: call.endedBy, // This should not mutate\n    isEnded: call.isEnded,\n    endResult: call.endResult,\n    // callLog: call.callLog, // This should not mutate\n    // customItems: call.customItems, // This should not mutate\n    localMediaView: call.localMediaView,\n    remoteMediaView: call.remoteMediaView,\n\n    setLocalMediaView(mediaView) {\n      dispatchUpdate({ localMediaView: mediaView });\n      return call.setLocalMediaView(mediaView);\n    },\n    setRemoteMediaView(mediaView) {\n      dispatchUpdate({ remoteMediaView: mediaView });\n      return call.setRemoteMediaView(mediaView);\n    },\n\n    stopVideo() {\n      dispatchUpdate({ isLocalVideoEnabled: false });\n      return call.stopVideo();\n    },\n    startVideo() {\n      dispatchUpdate({ isLocalVideoEnabled: true });\n      return call.startVideo();\n    },\n    getDuration() {\n      return call.getDuration();\n    },\n    accept(params) {\n      return call.accept(params);\n    },\n    end() {\n      return call.end();\n    },\n\n    muteMicrophone() {\n      dispatchUpdate({ isLocalAudioEnabled: false });\n      return call.muteMicrophone();\n    },\n    unmuteMicrophone() {\n      dispatchUpdate({ isLocalAudioEnabled: true });\n      return call.unmuteMicrophone();\n    },\n\n    // captureLocalVideoView(callback?) {\n    //   return call.captureLocalVideoView(callback);\n    // },\n    // captureRemoteVideoView(callback?) {\n    //   return call.captureRemoteVideoView(callback);\n    // },\n\n    // updateCustomItems(customItems, callback?): Promise<> {\n    // },\n    // deleteCustomItems(customItemsKeys: string[], callback?): Promise<> {\n    // },\n    // deleteAllCustomItems(callback?): Promise<> {\n    // },\n\n    // startRecording(options): string {\n    // },\n    // stopRecording(recordingId: string): boolean {\n    // },\n  };\n};\n","import React, { ReactElement, useCallback, useEffect, useMemo, useReducer } from 'react';\nimport type { AuthOption, DirectCall } from 'sendbird-calls';\nimport SendbirdCall, { LoggerLevel, sdkVersion, SoundType, RoomType } from 'sendbird-calls';\n\nimport CallContext, { initialContext } from './context';\nimport type { ContextType } from './context';\nimport { reducer } from './reducer';\nimport { initialState } from './state';\nimport { statefyDirectCall, statefyRoom } from './statefy';\n\nconsole.log({ SoundType, sdkVersion });\n\n/**\n * Provider\n * ```tsx\n * <SbCallsProvider>\n *   <MyApp />\n * </Auth0Provider>\n * ```\n *\n * Provides the SbCallsProvider to its child components.\n */\nconst SbCallsProvider = ({\n  appId,\n  children,\n}: {\n  appId: string;\n  children: ReactElement;\n}): JSX.Element => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { calls } = state;\n  const currentCall = useMemo(() => calls.find(call => !call.isEnded), [calls]);\n  const isBusy = useMemo(() => calls.some(call => !call.isEnded), [calls]);\n\n  const init = useCallback<ContextType['init']>(nAppId => {\n    const listenerId = 'device-change-listener';\n    try {\n      SendbirdCall.removeListener(listenerId);\n    } catch (error) {\n\n    }\n    SendbirdCall.init(nAppId);\n    SendbirdCall.setLoggerLevel(LoggerLevel.ERROR);\n    SendbirdCall.addListener(listenerId, {\n      onRinging: (call: DirectCall) => {},\n      onAudioInputDeviceChanged: (current, available) => {\n        dispatch({ type: 'UPDATE_AUDIO_INPUT_DEVICE_INFO', payload: { current, available } });\n      },\n      onAudioOutputDeviceChanged: (current, available) => {\n        dispatch({ type: 'UPDATE_AUDIO_OUTPUT_DEVICE_INFO', payload: { current, available } });\n      },\n      onVideoInputDeviceChanged: (current, available) => {\n        dispatch({ type: 'UPDATE_VIDEO_INPUT_DEVICE_INFO', payload: { current, available } });\n      },\n    });\n    SendbirdCall.updateMediaDevices({ audio: true, video: true });\n  }, []);\n\n  useEffect(() => {\n    if (appId) init(appId);\n  }, [appId]);\n\n  const ringingListenerId = 'sb-call-listener';\n  const auth = useCallback(async (authOption: AuthOption) => {\n    const user = await SendbirdCall.authenticate(authOption);\n    SendbirdCall.addListener(ringingListenerId, {\n      onRinging: (call: DirectCall) => {\n        dispatch({ type: 'RINGING', payload: statefyDirectCall(call, dispatch) });\n      },\n      onAudioInputDeviceChanged: (current, available) => {},\n      onAudioOutputDeviceChanged: (current, available) => {},\n      onVideoInputDeviceChanged: (current, available) => {},\n    });\n    await SendbirdCall.connectWebSocket();\n\n    dispatch({ type: 'AUTH', payload: user });\n    return user;\n  }, []);\n\n  const deauth = useCallback<ContextType['deauth']>(() => {\n    SendbirdCall.removeListener(ringingListenerId);\n    SendbirdCall.deauthenticate();\n    dispatch({ type: 'DEAUTH' });\n  }, []);\n\n  /*\n    Media Device Control\n   */\n  const updateMediaDevices = useCallback<ContextType['updateMediaDevices']>(\n    (constraints) => {\n      SendbirdCall.updateMediaDevices(constraints);\n    }, []\n  );\n\n  const selectAudioInputDevice = useCallback<ContextType['selectAudioInputDevice']>(\n    (mediaInfo: InputDeviceInfo) => {\n      SendbirdCall.selectAudioInputDevice(mediaInfo);\n      dispatch({ type: 'UPDATE_AUDIO_INPUT_DEVICE_INFO', payload: { current: mediaInfo }});\n    }, []\n  );\n\n  const selectAudioOutputDevice = useCallback<ContextType['selectAudioOutputDevice']>(\n    (mediaInfo: MediaDeviceInfo) => {\n      SendbirdCall.selectAudioOutputDevice(mediaInfo);\n      dispatch({ type: 'UPDATE_AUDIO_OUTPUT_DEVICE_INFO', payload: { current: mediaInfo }});\n    }, []\n  );\n\n  const selectVideoInputDevice = useCallback<ContextType['selectVideoInputDevice']>(\n    (mediaInfo: InputDeviceInfo) => {\n      SendbirdCall.selectVideoInputDevice(mediaInfo);\n      dispatch({ type: 'UPDATE_VIDEO_INPUT_DEVICE_INFO', payload: { current: mediaInfo }});\n    }, []\n  );\n\n  /*\n    Direct Calls\n   */\n  const dial = useCallback<ContextType['dial']>(\n    params => new Promise((res, rej) => {\n      // TODO: this is really confusing...\n      SendbirdCall.dial(params, (call, error) => {\n        const statefulCall = statefyDirectCall(call as DirectCall, dispatch);\n        if (error) {\n          rej(error);\n          return;\n        }\n        dispatch({ type: 'ADD_CALL', payload: statefulCall });\n        res(statefulCall);\n      });\n    }),\n    [],\n  );\n\n  const clearCalls = useCallback(() => {\n    dispatch({ type: 'CLEAR_CALLS' });\n  }, []);\n\n\n  /*\n    Rooms\n   */\n  const createRoom = useCallback<ContextType['createRoom']>(\n    async options => {\n      const room = await SendbirdCall.createRoom(options);\n      const statefulRoom = statefyRoom(room, dispatch);\n      dispatch({ type: 'ADD_ROOM', payload: statefulRoom });\n      return statefulRoom;\n    },\n    []\n  )\n\n  const getCachedRoomById = useCallback<ContextType['getCachedRoomById']>(\n    roomId => {\n      return state.rooms.find(x => x.roomId === roomId);\n    },\n    [state.rooms]\n  )\n\n  const fetchRoomById = useCallback<ContextType['fetchRoomById']>(\n    async roomId => {\n      const room = await SendbirdCall.fetchRoomById(roomId);\n      const statefulRoom = statefyRoom(room, dispatch);\n      if (state.rooms.find(x => x.roomId === room.roomId)) {\n        dispatch({ type: 'UPDATE_ROOM', payload: statefulRoom });\n      } else {\n        dispatch({ type: 'ADD_ROOM', payload: statefulRoom });\n      }\n      return statefulRoom;\n    },\n    [state.rooms]\n  )\n  const callContext: ContextType = {\n    ...initialContext,\n    ...state,\n    init,\n    auth,\n    deauth,\n    isAuthenticated: !!state.user,\n\n    // Media Device Control\n    updateMediaDevices,\n    selectAudioInputDevice,\n    selectAudioOutputDevice,\n    selectVideoInputDevice,\n\n    // Direct Calls\n    currentCall,\n    isBusy,\n    dial,\n    addDirectCallSound: SendbirdCall.addDirectCallSound,\n    clearCalls,\n\n    // Rooms\n    createRoom,\n    getCachedRoomById,\n    fetchRoomById,\n    RoomType,\n  };\n\n  console.log('call context', callContext.calls, callContext.calls.length);\n  return (\n    <CallContext.Provider value={callContext}>\n      {children}\n    </CallContext.Provider>\n  );\n};\n\nexport default SbCallsProvider;\n","import { useContext } from 'react';\n\nimport CallContext from './context';\n\n/**\n * ```js\n * const {\n *   // Calls state:\n *   user,\n *   calls,\n *   audioInputDeviceInfo,\n *   audioOutputDeviceInfo,\n *   videoInputDeviceInfo,\n *   isAuthenticated,\n *   currentCall,\n *   isBusy,\n *   dispatch,\n *\n *   // Auth methods:\n *   init,\n *   auth,\n *   deauth,\n * } = useSbCalls();\n * ```\n *\n * Use the `useSbCalls` hook in your components to access the calls state and methods.\n */\nconst useSbCalls = () => useContext(CallContext);\n\nexport default useSbCalls;\n","import { DirectCallOption } from 'lib/sendbird-calls';\n\nexport enum colors {\n  navy50 = '#f6f8fc',\n  navy80 = '#eef2fa',\n  navy100 = '#dee2f2',\n  navy200 = '#c9d0e6',\n  navy300 = '#b6bdd7',\n  navy400 = '#8a92ba',\n  navy600 = '#595e8a',\n  navy800 = '#353761',\n  navy900 = '#212242',\n  white = '#ffffff',\n  purple50 = '#ededff',\n  purple300 = '#825eeb',\n  purple400 = '#6440c4',\n  green300 = '#1fcca1',\n  green400 = '#00998c',\n  green500 = '#007a7a',\n  red300 = '#f24d6b',\n  red400 = '#d92148',\n  mutegray = 'rgba(168, 168, 168, 0.38)',\n}\n\nexport enum MEDIA_SIZES {\n  desktop = 992,\n  tablet = 640,\n  main = 377,\n  mobile = 320,\n}\n\nexport function getCallOption(callOption?: DirectCallOption) {\n  return {\n    localMediaView: undefined,\n    remoteMediaView: undefined,\n    videoEnabled: true,\n    audioEnabled: true,\n    ...callOption,\n  };\n}\n","import { css } from 'styled-components';\n\nimport { colors } from 'utils/variables';\n\n/** Fonts */\nexport const title = css`\n  height: 32px;\n  font-size: 24px;\n  line-height: 1.33;\n  letter-spacing: -0.25px;\n  color: inherit;\n`;\n\nexport const common = css`\n  font-family: \"Avenir Next\";\n  font-style: normal;\n  font-weight: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  text-rendering: optimizelegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n`;\n\nexport const small = css`\n  ${common};\n  font-size: 12px;\n  line-height: normal;\n`;\n\nexport const normal = css`\n  ${common};\n  font-size: 14px;\n  line-height: 1.43;\n`;\nexport const midBig = css`\n  ${common};\n  font-size: 18px;\n  line-height: 1.33;\n  letter-spacing: -0.25px;\n`;\n\nexport const big = css`\n  height: 32px;\n  font-size: 24px;\n  line-height: 1.33;\n  letter-spacing: -0.25px;\n`;\n\nexport const heavy = css`\n  font-weight: 500;\n`;\n\nexport const demi = css`\n  font-weight: 600;\n`;\n\nexport const heading4text1 = css`\n  ${common};\n  font-size: 20px;\n  line-height: 1.4;\n  letter-spacing: -0.25px;\n`\n\nexport const heading2text1 = css`\n  ${common};\n  font-size: 16px;\n  line-height: 1.25;\n  letter-spacing: -0.15px;\n`\n","import { css } from 'styled-components';\n\nimport { colors } from 'utils/variables';\n\n/** Layouts */\nexport const flexCenter = css`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const flexRow = css`\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const fullScreen = css`\n  width: 100vw;\n  height: 100vh;\n  overflow: scroll;\n`;\n\nexport const flexColumn = css`\n  display: flex;\n  flex-direction: column;\n`;\n\n/** Colors */\nexport const bgWhite = css`\n  background-color: ${colors.white};\n  color: ${colors.navy900};\n`;\n\n/** Components */\nexport const btnMid = css`\n  width: 80px;\n  height: 40px;\n`;\n\nexport const btnBig = css`\n  width: 180px;\n  height: 50px;\n  margin-left: 16px;\n  margin-right: 16px;\n`;\n\nexport const btnPrimary = css`\n  color: var(--white);\n  background-color: var(--purple-300);\n`;\n","import { MEDIA_SIZES } from 'utils/variables';\n\ntype Labels = keyof typeof MEDIA_SIZES;\n\nexport const isBrowser = typeof window !== 'undefined';\nexport const isSafari = () => /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\nexport const media = (Object.keys(MEDIA_SIZES) as Labels[])\n  .reduce((acc, label) => {\n    acc[label] = `\n      @media (min-width: ${MEDIA_SIZES[label] / 16}em)`;\n    return acc;\n  }, {} as Record<Labels, string>);\n\nexport const mediaMax = (Object.keys(MEDIA_SIZES) as Labels[])\n  .reduce((acc, label) => {\n    acc[label] = `\n      @media (max-width: ${(MEDIA_SIZES[label] - 1) / 16}em)`;\n    return acc;\n  }, {} as Record<Labels, string>);\n","import styled from 'styled-components';\n\nconst StyledLogoMid = styled.div`\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  margin-bottom: 16px;\n  background-color: var(--white);\n  background-image: url(/icons/ic-logo-inverse-01.svg);\n  background-repeat: no-repeat;\n  background-position: center;\n`;\n\nconst StyledLogoBig = styled.div`\n  width: 180px;\n  height: 40px;\n  display: block;\n  background: url(/icons/ic-logo-horizontal-purple-300.svg);\n  margin-bottom: 24px;\n`;\n\ninterface LogoProps { size: 'mid' | 'big'; }\nconst Logo = ({ size }: LogoProps) => {\n  switch (size) {\n    case 'big':\n      return <StyledLogoBig />;\n    case 'mid':\n    default:\n      return <StyledLogoMid />;\n  }\n};\n\nexport default Logo;\n","import styled from 'styled-components';\nimport { heavy, normal } from 'styles/fonts';\n\nconst ErrorIcon = styled.div`\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(/icons/ic-error-filled.svg);\n  margin-right: 16px;\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  ${normal};\n  ${heavy};\n  color: var(--white);\n`;\n\nconst SuccessIcon = styled.div`\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(/icons/ic-success-filled.svg);\n  margin-right: 16px;\n`;\n\nexport const ErrorMessage = ({ message }: { message: string; }) => {\n  return (\n    <Wrapper>\n      <ErrorIcon/> {message}\n    </Wrapper>\n  );\n};\n\nexport const SuccessMessage = ({ message }: { message: string; }) => {\n  return (\n    <Wrapper>\n      <SuccessIcon/> {message}\n    </Wrapper>\n  );\n};\n\n","import styled, { css } from 'styled-components';\n\n/** Types */\nconst primary = css`\n  color: var(--white);\n  background-color: var(--purple-300);\n`;\n\n/** Sizes */\nconst mid = css`\n  width: 80px;\n  height: 40px;\n`;\n\nconst big = css`\n  width: 180px;\n  height: 50px;\n`;\n\nconst sizes = { mid, big };\n\n/** Prop Types */\ninterface PropTypes extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  primary?: boolean;\n  size?: 'mid' | 'big';\n}\n\nconst ButtonStyle = styled.button<PropTypes>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  min-height: 40px;\n  border: none;\n  border-radius: 4px;\n  text-decoration: none;\n  ${props => (props.primary ? primary : css`\n    background-color: var(--white);\n  `)};\n  ${props => (props.size ? sizes[props.size] : '')};\n`;\n\nconst Button: React.FC<PropTypes> = ({ children, ...props }) => (\n  <ButtonStyle type=\"button\" {...props}>\n    {children}\n  </ButtonStyle>\n);\n\n\nexport default Button;\n","import { useState } from 'react';\nimport styled from 'styled-components';\n\nimport * as fonts from 'styles/fonts';\n\nconst Input = styled.input`\n  ${fonts.normal};\n  width: 100%;\n  height: 40px;\n  box-sizing: border-box;\n  border: solid 1px var(--navy-200);\n  padding: 10px 16px;\n  border-radius: 4px;\n  background-color: var(--white);\n`;\n\n\ninterface useInputType extends React.InputHTMLAttributes<HTMLInputElement> {\n  initValue?: any;\n}\n\nexport const useInput = ({ initValue, ...props }: useInputType) => {\n  const [value, setValue] = useState(initValue || '');\n  let input;\n  if (Input) {\n    input = <Input value={value} onChange={e => setValue(e.target.value)} {...props} />;\n  } else {\n    input = <input value={value} onChange={e => setValue(e.target.value)} {...props} />;\n  }\n  return [value, input, setValue];\n};\nexport const useTextInput = (options: Parameters<typeof useInput>[0]) => useInput({ type: 'text', ...options });\n\nexport default Input;\n","import { isBrowser } from 'utils';\n\nexport default (function () {\n  try {\n    const st = localStorage || {};\n    return {\n      setItem: (key: string, object: any) => {\n        st[key] = typeof object === 'string' ? object : JSON.stringify(object);\n      },\n      getItem: (key: string, parse = true) => {\n        if (!st[key]) {\n          return null;\n        }\n        const value = st[key];\n\n        try {\n          return parse ? JSON.parse(value) : value;\n        } catch (e) {\n          return value;\n        }\n      },\n      removeItem: (key: string) => {\n        if (localStorage) {\n          return localStorage.removeItem(key);\n        }\n        return delete st[key];\n      },\n    };\n  } catch (err) {\n    if (isBrowser) {\n      console.warn(err);\n      setTimeout(() => alert('Cookie disabled'), 1000);\n    }\n    return {\n      setItem: (key: string, object: any) => '',\n      getItem: (key: string) => '',\n      removeItem: (key: string) => '',\n    };\n  }\n}());\n","import { ErrorMessage } from 'components/atoms/Toast';\nimport { useEffect } from 'react';\nimport { useLocation } from 'react-use';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\n\nimport Button from 'components/atoms/Button';\nimport Input, { useTextInput } from 'components/atoms/Input';\nimport { useSbCalls } from 'lib/sendbird-calls';\nimport { SoundType } from 'sendbird-calls';\nimport type { AuthOption } from 'sendbird-calls';\nimport { toast } from 'react-toastify';\nimport storage from 'lib/storage';\nimport * as fonts from 'styles/fonts';\n\nimport { media } from 'utils';\n\nconst FormContainer = styled.form`\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0 24px;\n  background-color: var(--white);\n  \n  ${Input} {\n    margin-bottom: 16px;\n  }\n  \n  ${media.main} {\n    max-width: 500px;\n    border: solid 1px #dee2f2;\n    border-radius: 4px;\n    padding: 0 48px;\n  }\n`;\n\nconst InputLabel = styled.label`\n  ${fonts.small};\n  ${fonts.heavy};\n  height: 12px;\n  display: inline-block;\n  margin-top: 6px;\n  margin-bottom: 6px;\n  &:first-of-type {\n    margin-top: 38px;\n  }\n`;\n\nconst LoginButton = styled(Button)`\n  ${fonts.normal};\n  ${fonts.demi};\n  color: var(--white);\n  width: 100%;\n  margin-bottom: 40px;\n`;\n\ninterface LoginFormProps {}\nconst LoginForm = (props: LoginFormProps) => {\n  const sbCalls = useSbCalls();\n  const history = useHistory();\n  const query = new URLSearchParams(useLocation().search);\n  let authArgs: any = {};\n  const authQuery = query.get('q');\n  if (authQuery) {\n    try {\n      authArgs = JSON.parse(atob(authQuery));\n    } catch(e) {}\n  }\n\n  const stored = storage.getItem('sbCalls');\n\n  const APP_ID = authArgs.app_id || stored?.appId || process.env.REACT_APP_APP_ID || '';\n  const USER_ID = authArgs.user_id || stored?.userId || process.env.REACT_APP_USER_ID || '';\n  const ACCESS_TOKEN = authArgs.access_token || stored?.accessToken || process.env.REACT_APP_ACCESS_TOKEN || '';\n  const IS_ACCESS_TOKEN_NEEDED = process.env.REACT_APP_IS_ACCESS_TOKEN_NEEDED === 'true';\n  const ROOM_ID = authArgs.room_id || '';\n\n  const [appId, appIdInput] = useTextInput({ id: 'appIdInput', initValue: APP_ID });\n  const [userId, userIdInput] = useTextInput({ id: 'userIdInput', initValue: USER_ID });\n  const [accessToken, accessTokenInput] = useTextInput({ id: 'accessTokenInput', initValue: ACCESS_TOKEN });\n\n  const login = () => {\n    const option: AuthOption = { userId };\n    if (IS_ACCESS_TOKEN_NEEDED || authArgs.access_token) option.accessToken = accessToken;\n    sbCalls.init(appId);\n    sbCalls.addDirectCallSound(SoundType.DIALING, '/sounds/Dialing.mp3');\n    sbCalls.addDirectCallSound(SoundType.RINGING, '/sounds/Ringing.mp3');\n    sbCalls.addDirectCallSound(SoundType.RECONNECTING, '/sounds/Reconnecting.mp3');\n    sbCalls.addDirectCallSound(SoundType.RECONNECTED, '/sounds/Reconnected.mp3');\n    return sbCalls.auth(option)\n      .then(user => {\n        storage.setItem('sbCalls', { appId, userId });\n        history.push( `${query.get('referrer') ? query.get('referrer') + `?room_id=${ROOM_ID}` : '/'}`);\n      })\n      .catch(error => {\n        toast.error(<ErrorMessage message={`Check entered information and try again.`} />, { autoClose: 2000 });\n      })\n  }\n\n  useEffect(() => {\n    if (authArgs.app_id) login();\n  }, [])\n\n  return (\n    <FormContainer>\n      <InputLabel htmlFor=\"appIdInput\">App ID</InputLabel>\n      {appIdInput}\n      <InputLabel htmlFor=\"userIdInput\">User ID</InputLabel>\n      {userIdInput}\n      {\n        IS_ACCESS_TOKEN_NEEDED\n          && (\n          <>\n            <InputLabel htmlFor=\"accessTokenInput\">Access Token</InputLabel>\n            {accessTokenInput}\n          </>\n          )\n      }\n      <LoginButton\n        primary\n        size=\"mid\"\n        onClick={() => login()}\n      >\n        Sign in\n      </LoginButton>\n    </FormContainer>\n  );\n};\n\nexport default LoginForm;\n","import styled from 'styled-components';\nimport { media } from 'utils';\nimport * as mixins from 'styles/mixins';\n\nexport const Screen = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n  box-sizing: border-box;\n`;\n\nexport const FullScreen = styled.div`\n  width: 100vw;\n  height: 100vh;\n  padding-bottom: 55px; // TabToolbar height\n  ${media.main} {\n    padding-bottom: 0;\n  }\n`;\n\nexport const FullScreenContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 272px auto 0 auto;\n  height: calc(100% - 80px);\n  ${media.main} {\n    height: calc(100% - 48px);\n  }\n`\n\nexport default Screen;\n","import SendbirdCalls from 'sendbird-calls';\nimport styled from 'styled-components';\nimport * as fonts from 'styles/fonts';\nimport * as mixins from 'styles/mixins';\nimport { media } from 'utils';\n\nimport Logo from 'components/atoms/Logo';\nimport LoginForm from 'components/organisms/LoginForm';\nimport Screen from 'components/templates/Screen';\n\nimport pack from '../../../../package.json';\n\nconst Wrapper = styled(Screen)`\n  width: 100vw;\n  height: 100vh;\n  ${mixins.flexCenter};\n  color: rgb(33, 34, 66);\n  background-color: rgb(255, 255, 255);\n  ${media.main} {\n    background-color: rgb(246, 248, 252);\n  }\n`;\n\nconst Content = styled.div`\n  ${mixins.flexCenter};\n  flex-direction: column;\n  height: 100%;\n  ${media.main} {\n    height: auto;\n    margin-top: 134px;\n    margin-bottom: auto;\n  }\n`;\n\nconst Title = styled.div`\n  ${fonts.big};\n  ${fonts.demi};\n  margin-bottom: 40px;\n`;\n\nconst VersionInfo = styled.div`\n  ${mixins.flexCenter};\n  width: 100%;\n  bottom: 24px;\n  position: absolute;\n  ${media.main} {\n    display: none;\n  }\n`;\n\nconst VersionText = styled.div`\n  ${fonts.small};\n  margin-left: 8px;\n  margin-right: 8px;\n`;\n\nconst LoginPage = () => {\n  return (\n    <Wrapper>\n      <Content>\n        <Logo size=\"mid\" />\n        <Title>Sendbird Calls</Title>\n        <LoginForm />\n      </Content>\n      <VersionInfo>\n        <VersionText>Quickstart {pack.version}</VersionText>\n        <VersionText>SDK {SendbirdCalls.sdkVersion}</VersionText>\n      </VersionInfo>\n    </Wrapper>\n  )\n}\nexport default LoginPage;\n","import {\n  useHistory,\n  useRouteMatch,\n  useLocation,\n  Route,\n  RouteProps,\n} from 'react-router-dom';\n\nimport { useSbCalls } from 'lib/sendbird-calls';\n\nconst PrivateRoute = ({ component: Component, render = () => null, ...props }: RouteProps) => {\n  const { url } = useRouteMatch();\n  const { isAuthenticated } = useSbCalls();\n  const history = useHistory();\n  const query = new URLSearchParams(useLocation().search);\n\n  return <Route {...props} render={renderProps => {\n    if (!isAuthenticated) {\n      query.set('referrer', url);\n      history.push(`/login?${query.toString()}`);\n      return null;\n    }\n    if (Component) return <Component {...renderProps} />;\n    return render(renderProps);\n  }} />\n}\n\nexport default PrivateRoute;\n","import styled from 'styled-components';\n\nconst Icon = styled.div<{ src: string; }>`\n  width: 32px;\n  height: 32px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${props => props.src});\n`;\n\nexport default Icon;\n","import styled from 'styled-components';\n\nconst Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n`\n\nexport default Overlay;\n","import styled from 'styled-components';\n\nconst ButtonCircle = styled.div`\n  width: 64px;\n  height: 64px;\n  cursor: pointer;\n  border-color: transparent;\n  border-radius: 50%;\n  background-color: var(--white);\n`;\n\nexport default ButtonCircle;\n","import styled from 'styled-components';\n\nimport ButtonCircle from 'components/atoms/ButtonCircle';\n\nexport const CallButton = styled(ButtonCircle)`\n  margin: 0 10px;\n  background-repeat: no-repeat;\n  background-position: center center;\n`;\n\nexport const DialButton = styled(ButtonCircle)`\n  margin: 0 10px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  border: 1px solid var(--purple-300);\n`;\n\nexport const VideoDialButton = styled(DialButton)`\n  background-image: url(/icons/ic-video-thumbnail-purple.svg);\n`;\n\nexport const AudioDialButton = styled(DialButton)`\n  background-color: var(--purple-300);\n  background-image: url(/icons/ic-callkit-audio-20.svg);\n`;\n\n\nexport const VideoCallAcceptButton = styled(CallButton)`\n  background-color: #2eba9f;\n  background-image: url(/icons/icon-call-video.svg);\n  &:hover {\n    background-color: #007a7a;\n  }\n`;\n\nexport const AudioCallAcceptButton = styled(CallButton)`\n  background-color: #2eba9f;\n  background-image: url(/icons/ic-callkit-audio.svg);\n  &:hover {\n    background-color: #007a7a;\n  }\n`;\n\nexport const MuteButton = styled(CallButton)`\n  background-color: rgba(168, 168, 168, 0.38);\n  background-image: url(/icons/ic-callkit-audio-off-white.svg);\n  &:hover {\n    background-color: rgba(168, 168, 168, 0.5);\n  }\n`;\n\nexport const UnmuteButton = styled(CallButton)`\n  background-color: var(--white);\n  background-image: url(/icons/ic-callkit-audio-off-black.svg);\n  &:hover {\n    background-color: rgba(168, 168, 168, 0.5);\n  }\n`;\n\nexport const StopVideoButton = styled(CallButton)`\n  background-color: rgba(168, 168, 168, 0.38);\n  background-image: url(/icons/ic-video-thumbnail-white.svg);\n  &:hover {\n    background-color: rgba(168, 168, 168, 0.5);\n  }\n`;\n\nexport const StartVideoButton = styled(CallButton)`\n  background-color: var(--white);\n  background-image: url(/icons/ic-video-thumbnail-black.svg);\n  &:hover {\n    background-color: rgba(168, 168, 168, 0.5);\n  }\n`;\n\nexport const EndButton = styled(CallButton)`\n  background-size: 32px;\n  background-color: #e53157;\n  background-image: url(/icons/ic-callkit-end.svg);\n  &:hover {\n    background-color: #a30e2d;\n  }\n`;\n","import type { StatefulRoom } from 'lib/sendbird-calls';\nimport { toast } from 'react-toastify';\nimport styled from 'styled-components';\nimport copy from 'copy-to-clipboard';\nimport { demi, normal, small, heavy } from 'styles/fonts';\nimport { flexCenter } from 'styles/mixins';\nimport { SuccessMessage } from \"../../atoms/Toast\";\n\nconst RoomIdWrapper = styled.div`\n  &>div {\n    margin-top: 6px;\n    display: flex;\n    width: 100%;\n  }\n`;\n\nexport const InfoLabel = styled.label`\n  ${small};\n  ${heavy};\n  color: var(--navy-900);\n`;\n\nexport const InfoInput = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 10px 16px;\n  background-color: var(--navy-80);\n  border-radius: 4px;\n  margin-top: 6px;\n`;\n\nexport const InfoInputText = styled.div`\n  ${normal};\n  letter-spacing: -0.1px;\n  color: var(--navy-600);\n`;\n\nexport const InfoInputIcon = styled.div`\n  width: 20px;\n  height: 20px;\n  background-image: url(/icons/ic-copy.svg);\n  background-repeat: no-repeat;\n  background-position: center;\n  cursor: pointer;\n`;\n\nexport const CopyButton = styled.div`\n  width: 80px;\n  height: 40px;\n  border-radius: 4px;\n  padding: 10px 16px;\n  background-color: var(--purple-300);\n  ${flexCenter};\n  ${normal};\n  color: var(--white);\n  cursor: pointer;\n  ${demi};\n  margin-left: 8px;\n  margin-top: 6px;\n`;\n\nexport const InputWithCopyButton = ({ text, title }: { text: string; title: string; }) => {\n  return (\n    <RoomIdWrapper>\n      <InfoLabel>{title}</InfoLabel>\n      <div>\n        <InfoInput>\n          <InfoInputText>\n            {text}\n          </InfoInputText>\n        </InfoInput>\n        <CopyButton onClick={() => {\n          copy(text);\n          toast.success(<SuccessMessage message={'Room ID copied.'}/>, { autoClose: 2000, });\n        }}>\n          Copy\n        </CopyButton>\n      </div>\n    </RoomIdWrapper>\n  )\n}\n\nexport const InputWithCopyIcon = ({ title, text, icon = true }: { title: string, text: string; icon?: boolean; }) => {\n  return (\n    <RoomIdWrapper>\n      <InfoLabel>{title}</InfoLabel>\n      <InfoInput>\n        <InfoInputText>\n          {text}\n        </InfoInputText>\n        {icon && <InfoInputIcon onClick={() => {\n          copy(text);\n          toast.success(<SuccessMessage message={'Room ID copied.'}/>, { autoClose: 2000, });\n        }}/>}\n      </InfoInput>\n    </RoomIdWrapper>\n  )\n}\n\nconst RoomCreatorWrapper = styled.div`\n  \n`;\nexport const RoomCreatorInfo = ({ room }: { room: StatefulRoom }) => {\n  return (\n    <RoomCreatorWrapper>\n      <label>Created by</label>\n      <div>\n        <img src={room.createdBy} />\n      </div>\n    </RoomCreatorWrapper>\n  )\n}\n","import styled from 'styled-components';\nimport ReactModal from 'react-modal';\nimport Button from 'components/atoms/Button';\nimport { demi, heading4text1, heavy, normal } from 'styles/fonts';\n\nconst customStyles = {\n  overlay: {\n    backgroundColor: 'rgba(33, 34, 66, 0.6)',\n  },\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    padding: 0,\n    transform: 'translate(-50%, -50%)',\n  },\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 480px;\n  //height: 458px;\n  padding: 18px 24px 22px 24px;\n  border-radius: 4px;\n  box-shadow: 0 6px 10px -5px rgba(33, 34, 66, 0.04), 0 6px 30px 5px rgba(33, 34, 66, 0.08), 0 16px 24px 2px rgba(33, 34, 66, 0.12);\n  background-color: var(--white);\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  margin-bottom: 18px;\n`;\n\nconst Title = styled.div`\n  ${heading4text1};\n  ${demi};\n  color: var(--navy-900);\n`;\n\nconst Close = styled.div`\n  width: 32px;\n  height: 32px;\n  padding: 6px;\n  border-radius: 4px;\n  cursor: pointer;\n`;\n\nconst ICClose = styled.div`\n  width: 20px;\n  height: 20px;\n  padding: 4px;\n  background-image: url(/icons/ic-close.svg);\n`;\n\nconst Content = styled.div`\n\n`;\n\nconst Footer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: auto;\n`\n\nconst CancelButton = styled(Button)`\n  ${normal};\n  ${demi};\n  color: var(--navy-600);\n  border-radius: 4px;\n  border: solid 1px var(--navy-200);\n  margin-right: 8px;\n`;\n\nconst ConfirmButton = styled(Button)`\n  ${normal};\n  ${demi};\n`;\n\nReactModal.setAppElement('#root');\nconst Modal = (\n  props: ReactModal.Props & {\n    close: () => void;\n    title: string;\n    content: React.ReactElement;\n    footer: { cancel?: { label: string; }, confirm?: { label: string; onClick: any } };\n  }\n) => {\n  const { cancel, confirm } = props.footer;\n  return (\n    <ReactModal\n      style={customStyles}\n      shouldCloseOnOverlayClick\n      onRequestClose={() => props.close()}\n      {...props}\n    >\n      <Wrapper>\n        <Header>\n          <Title>{props.title}</Title>\n          <Close onClick={() => props.close()}><ICClose/></Close>\n        </Header>\n        <Content>\n          {props.content}\n        </Content>\n        <Footer>\n          {cancel &&\n            <CancelButton size=\"mid\" onClick={props.close}>\n              {cancel.label}\n            </CancelButton>\n          }\n          {confirm &&\n            <ConfirmButton primary size=\"mid\" onClick={confirm.onClick}>\n              {confirm.label}\n            </ConfirmButton>\n          }\n        </Footer>\n      </Wrapper>\n    </ReactModal>\n  )\n}\n\nexport default Modal;\n","import { useSbCalls } from 'lib/sendbird-calls/SbCallsContext';\nimport { Fragment, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Modal from 'components/templates/Modal';\nimport ReactModal from 'react-modal';\nimport { small, normal, heavy } from 'styles/fonts';\n\nconst Wrapper = styled.div`\n  \n`;\n\nconst SelectContainer = styled.div`\n  width: 100%;\n  max-width: 500px;\n  margin-bottom: 22px;\n  background-color: var(--white);\n  &:last-of-type {\n    margin-bottom: 0;\n  }\n`;\n\nconst SelectLabel = styled.label`\n  ${small};\n  ${heavy};\n  display: inline-block;\n  height: 12px;\n  margin-bottom: 6px;\n`;\n\nconst Select = styled.select`\n  ${normal};\n  ${heavy};\n  appearance: none;\n  width: 100%;\n  height: 40px;\n  padding: 10px 36px 10px 16px;\n  border-radius: 4px;\n  border: solid 1px var(--navy-200);\n  background-color: var(--white);\n  background-image: url(/icons/ic-input-arrow-down.svg);\n  background-repeat: no-repeat;\n  background-position: calc(100% - 12px) center;\n`;\n\nconst DeviceSettings = (props: ReactModal.Props & { close: () => void; title?: string; }) => {\n  const sbCalls = useSbCalls();\n\n  useEffect(() => {\n    if (props.isOpen) sbCalls.updateMediaDevices({ audio: true, video: true });\n  }, []);\n\n  return (\n    <Modal\n      shouldCloseOnOverlayClick\n      title=\"Settings\"\n      content={(\n        <Fragment>\n          <SelectContainer>\n            <SelectLabel htmlFor=\"camera-select\">Camera</SelectLabel>\n            <Select\n              id=\"camera-select\"\n              defaultValue={sbCalls.videoInputDeviceInfo.current?.deviceId}\n              onChange={e => {\n                const { value } = e.target;\n                const mediaInfo = sbCalls.videoInputDeviceInfo.available.find(device => device.deviceId === value);\n                if (mediaInfo) sbCalls.selectVideoInputDevice(mediaInfo);\n              }}\n            >\n              {sbCalls.videoInputDeviceInfo.available.map(info => (\n                <option key={info.deviceId} value={info.deviceId}>{info.label}</option>\n              ))}\n            </Select>\n          </SelectContainer>\n\n          <SelectContainer>\n            <SelectLabel htmlFor=\"microphone-select\">Microphone</SelectLabel>\n            <Select\n              id=\"microphone-select\"\n              defaultValue={sbCalls.audioInputDeviceInfo.current?.deviceId}\n              onChange={e => {\n                const { value } = e.target;\n                const mediaInfo = sbCalls.audioInputDeviceInfo.available.find(device => device.deviceId === value);\n                if (mediaInfo) sbCalls.selectAudioInputDevice(mediaInfo);\n              }}\n            >\n              {sbCalls.audioInputDeviceInfo.available.map(info => (\n                <option key={info.deviceId} value={info.deviceId}>{info.label}</option>\n              ))}\n            </Select>\n          </SelectContainer>\n\n          <SelectContainer>\n            <SelectLabel htmlFor=\"speaker-select\">Speaker</SelectLabel>\n            <Select\n              id=\"speaker-select\"\n              defaultValue={sbCalls.audioOutputDeviceInfo.current?.deviceId}\n              onChange={e => {\n                const { value } = e.target;\n                const mediaInfo = sbCalls.audioOutputDeviceInfo.available.find(device => device.deviceId === value);\n                if (mediaInfo) sbCalls.selectAudioOutputDevice(mediaInfo);\n              }}\n            >\n              {sbCalls.audioOutputDeviceInfo.available.map(info => (\n                <option key={info.deviceId} value={info.deviceId}>{info.label}</option>\n              ))}\n            </Select>\n          </SelectContainer>\n        </Fragment>\n      )}\n      footer={{}}\n      {...props}\n    />\n  );\n};\n\nexport default DeviceSettings;\n","import type { StatefulRoom } from 'lib/sendbird-calls/SbCallsContext';\nimport styled, { css } from 'styled-components';\nimport { normal } from 'styles/fonts';\nimport { useEffect, useState } from \"react\";\n\nconst ParticipantsRow = styled.div<{ rows: number }>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  max-height: ${props => Math.ceil(100 / props.rows) + '%'};\n  margin-bottom: 4px;\n  &:last-child {\n    margin-bottom: 0px;\n  }\n`;\n\nconst ParticipantView = styled.div<{ rows: number, width: number, height: number, isLocal?: boolean }>`\n  position: relative;\n  width: ${props => Math.min((props.height - 184) / props.rows * (16 / 9), (props.width - 32) / 2) + 'px'};\n  height: 100%;\n  background-color: var(--navy-800);\n  &:first-child {\n    margin-right: 4px;\n  }\n  &:before {\n    display: block;\n    content: \"\";\n    padding-top: 56.25%;  /*What you want the height to be in relation to the width*/\n  }\n  video {\n    position:  absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst ParticipantInfo = styled.div`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  height: 24px;\n  padding: 2px 8px;\n  background-color: rgba(33, 34, 66, 0.7);\n  ${normal};\n  color: var(--white);\n`;\n\nexport const ParticipantOverlay = styled.div<{ fillBlack?: boolean; }>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  background-color: var(--navy-800);\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  ${props => props.fillBlack ? css`\n    background-color: black;\n\n` : ''};\n`;\n\nexport const Avatar = styled.div<{ url?: string; }>`\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: contain;\n  background-image: url(${props => props.url ? props.url : '/icons/icon-avatar.svg'});\n`;\n\nconst ParticipantMutedIcon = styled.div`\n  width: 15px;\n  height: 15px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-image: url(/icons/icon-audio-off.svg);\n  margin-right: 4px;\n`\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1;\n  max-height: calc(100vh - 64px - 88px);\n  padding: 16px;\n  > ${ParticipantView} {\n    width: 100%;\n  }\n`;\n\n\ntype Props = { room: StatefulRoom };\nconst MediaContent = ({ room }: Props) => {\n  const { participants, localParticipant, remoteParticipants } = room;\n\n  const getWindowDimensions = () => {\n    const { innerWidth: width, innerHeight: height } = window;\n    return {\n      width,\n      height\n    };\n  }\n\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n  }, []);\n\n  console.log(\n    JSON.stringify(\n    participants.map(x => ({ id: x.participantId, audio: x.isAudioEnabled }))\n      ,null,4)\n  )\n\n  if (!remoteParticipants.length) {\n    const p = localParticipant;\n    return (\n      <Wrapper>\n        <ParticipantView key={p.participantId} rows={1} width={windowDimensions.width} height={windowDimensions.height}>\n          <video autoPlay playsInline muted={p.participantId === localParticipant.participantId} ref={el => {\n            if (!el) return;\n            p.setMediaView(el);\n          }} />\n          {p.isVideoEnabled ||\n          <ParticipantOverlay>\n            <Avatar url={p.user.profileUrl} />\n          </ParticipantOverlay>\n          }\n          <ParticipantInfo>\n            {p.isAudioEnabled || <ParticipantMutedIcon />}User ID: {p.user.userId}\n          </ParticipantInfo>\n        </ParticipantView>\n      </Wrapper>\n    )\n  }\n\n  const rows = Math.ceil(participants.length / 2);\n  return (\n    <Wrapper>\n      {Array(rows).fill(0).map((x, i) => {\n        const p1 = participants[i * 2];\n        const p2 = participants[i * 2 + 1];\n\n        return (\n          <ParticipantsRow key={i} rows={rows}>\n            {[p1, p2].map(p => (\n              p && (\n                <ParticipantView rows={rows} width={windowDimensions.width} height={windowDimensions.height} key={p.participantId}>\n                  <video autoPlay playsInline muted={p.participantId === localParticipant.participantId} ref={el => {\n                    if (!el) return;\n                    p.setMediaView(el);\n                  }} />\n                  {p.isVideoEnabled ||\n                  <ParticipantOverlay>\n                    <Avatar url={p.user.profileUrl} />\n                  </ParticipantOverlay>\n                  }\n                  <ParticipantInfo>\n                    {p.isAudioEnabled || <ParticipantMutedIcon />}User ID: {p.user.userId}\n                  </ParticipantInfo>\n                </ParticipantView>\n              )\n            ))}\n          </ParticipantsRow>\n        )\n      })}\n    </Wrapper>\n  )\n}\nexport default MediaContent;\n","import { InfoLabel, InputWithCopyButton, InputWithCopyIcon } from 'components/molecules/Info';\nimport { StatefulRoom } from 'lib/sendbird-calls/SbCallsContext';\nimport ReactModal from 'react-modal';\nimport React from 'react';\n\nimport Modal from 'components/templates/Modal';\nimport styled from 'styled-components';\nimport { normal } from 'styles/fonts';\n\nconst Text = styled.div`\n  ${normal};\n  letter-spacing: -0.1px;\n  color: var(--navy-900);\n  margin-bottom: 30px;\n`;\n\nconst RoomCreated = (props: ReactModal.Props & { close: () => void; room: StatefulRoom; }) => {\n  return (\n    <Modal\n      title=\"Room created!\"\n      content={(\n        <React.Fragment>\n          <Text>Share the room ID for others to enter this room for group calls.</Text>\n          <InputWithCopyButton text={props.room.roomId} title=\"Room ID\" />\n        </React.Fragment>\n      )}\n      footer={{}}\n      {...props}\n    />\n  )\n};\n\nconst CreatedByText = styled.div`\n  ${normal};\n  letter-spacing: -0.1px;\n  color: var(--navy-900);\n  margin-top: 10px;\n`;\n\nexport const RoomInfo = (props: ReactModal.Props & { close: () => void; room: StatefulRoom; }) => {\n  return (\n    <Modal\n      title=\"Room information\"\n      content={(\n        <React.Fragment>\n          <InputWithCopyIcon title=\"Room ID\" text={props.room.roomId} />\n          <div style={{ marginTop: 24 }}>\n            <InfoLabel>Created by</InfoLabel>\n            <CreatedByText>User ID : {props.room.createdBy}</CreatedByText>\n          </div>\n        </React.Fragment>\n      )}\n      footer={{\n        confirm: { label: 'OK', onClick: () => { props.close() } }\n      }}\n      {...props}\n    />\n  )\n}\n\nexport default RoomCreated;\n","import {\n  CallButton,\n  EndButton,\n  MuteButton,\n  StartVideoButton,\n  StopVideoButton,\n  UnmuteButton,\n} from 'components/atoms/CallButtons';\nimport { InputWithCopyIcon } from 'components/molecules/Info';\nimport DeviceSettings from 'components/organisms/DeviceSettings';\nimport MediaContent from 'components/organisms/GroupCall/MediaContent';\nimport { RoomInfo } from 'components/organisms/RoomCreated/RoomCreated';\nimport type { StatefulRoom, StatefulParticipant } from 'lib/sendbird-calls';\nimport { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { demi, heavy, heading2text1, midBig, normal, small } from 'styles/fonts';\n\nconst Wrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: var(--navy-900);\n  display: flex;\n`;\n\nconst Main = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  justify-content: space-between;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  flex: 0;\n  height: 64px;\n  padding: 22px 24px;\n  background-color: var(--navy-900);\n  ${heading2text1};\n  ${demi};\n  color: white;\n  z-index: 10;\n`;\n\nconst ChevronRight = styled.div`\n  width: 20px;\n  height: 20px;\n  background-image: url(/icons/ic-chevron-right.svg);\n  background-repeat: no-repeat;\n  background-position: center;\n  margin-left: 6px;\n`;\n\nconst Footer = styled.div`\n  height: 88px;\n  padding: 0 48px;\n  background-color: var(--neutral-navy-800);\n  display: flex;\n  justify-content: space-between;\n  z-index: 10;\n`;\n\nconst Button = styled.div`\n  width: 80px;\n  height: 88px;\n  padding: 20px 14px;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  ${normal};\n  ${heavy}:\n  letter-spacing: -0.1px;\n  color: var(--white);\n`;\n\nconst ButtonIcon = styled.div<{ src: string }>`\n  background-image: ${props => css`url(${props.src})`};\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 24px;\n  height: 24px;\n`;\n\nconst UtilityButtons = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  ${CallButton} {\n    width: 48px;\n    height: 48px;\n    background-size: 24px 24px;\n    padding: 12px;\n  }\n`;\n\nconst Side = styled.div<{ show: boolean }>`\n  display: flex;\n  flex-direction: column;\n  min-width: 376px;\n  width: 376px;\n  background-color: var(--white);\n  ${props => props.show ? css`\n  \n` : css`\n  margin-right: -376px;\n`};\n`;\n\nconst SideTitle = styled.div`\n  ${midBig};\n  ${demi};\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 63px;\n  padding: 20px 24px;\n  border-bottom: 1px solid var(--navy-100);\n`;\n\nconst SideClose = styled.div`\n  width: 32px;\n  height: 32px;\n  padding: 6px;\n  border-radius: 4px;\n  cursor: pointer;\n  > div {\n    width: 20px;\n    height: 20px;\n    background-image: url(/icons/ic-close.svg);\n    background-repeat: no-repeat;\n    background-position: center center;\n  }\n`;\n\nconst Participants = styled.div`\n  width: 100%;\n  padding: 0 24px;\n  flex: 1;\n`\n\nconst ParticipantWrapper = styled.div<{ src: string; }>`\n  display: flex;\n  align-items: center;\n  height: 60px;\n  &>div:first-child {\n    width: 32px;\n    height: 32px;\n    background-image: url(${props => props.src});\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n    flex-shrink: 0;\n    border-radius: 50%;\n    margin-right: 12px;\n  }\n`\n\nconst ParticipantNickname = styled.div`\n  ${normal};\n  ${heavy};\n  color: var(--navy-900);\n`;\n\nconst ParticipantId = styled.div`\n  ${small};\n  color: var(--navy-600);\n`;\n\nconst Participant = ({ participant }: { participant: StatefulParticipant }) => {\n  return (\n    <ParticipantWrapper src={participant.user.profileUrl || '/icons/icon-avatar.svg'}>\n      <div />\n      <div>\n        <ParticipantNickname>{participant.user.nickname || ''}</ParticipantNickname>\n        <ParticipantId>User ID: {participant.user.userId}</ParticipantId>\n      </div>\n    </ParticipantWrapper>\n  )\n};\n\nconst ShareWrapper = styled.div`\n  padding: 24px;\n  label {\n    ${normal};\n    ${demi};\n    letter-spacing: -0.1px;\n  }\n`;\n\ntype GroupCallProps = {\n  room: StatefulRoom;\n}\nconst GroupCall = ({ room }: GroupCallProps) => {\n  const [showDeviceSettings, setShowDeviceSettings] = useState(false);\n  const [showSide, setShowSide] = useState(false);\n  const [showRoomInfo, setShowRoomInfo] = useState(false);\n\n  const { participants, localParticipant, remoteParticipants } = room;\n\n  return (\n    <Wrapper>\n      <Main>\n        <Header>\n          <span onClick={() => {\n            setShowRoomInfo(true);\n          }} style={{ cursor: 'pointer' }}>{room.roomId}</span>\n          <ChevronRight />\n        </Header>\n\n        <MediaContent room={room} />\n\n        <Footer>\n          <Button onClick={() => setShowDeviceSettings(true)}>\n            <ButtonIcon src=\"/icons/ic-settings.svg\"/>\n            Settings\n          </Button>\n          <UtilityButtons>\n            {localParticipant.isAudioEnabled ? <MuteButton onClick={() => localParticipant.muteMicrophone()}/> :\n              <UnmuteButton onClick={() => localParticipant.unmuteMicrophone()}/>}\n            {localParticipant.isVideoEnabled ? <StopVideoButton onClick={() => localParticipant.stopVideo()}/> :\n              <StartVideoButton onClick={() => localParticipant.startVideo()}/>}\n            <EndButton onClick={() => room.exit()}/>\n          </UtilityButtons>\n          <Button onClick={() => setShowSide(!showSide)} >\n            <ButtonIcon src=\"/icons/ic-user.svg\"/>\n            Participants\n          </Button>\n        </Footer>\n        <DeviceSettings\n          isOpen={showDeviceSettings}\n          close={() => setShowDeviceSettings(false)}\n        />\n        <RoomInfo\n          isOpen={showRoomInfo}\n          room={room}\n          close={() => setShowRoomInfo(false)}\n        />\n      </Main>\n      <Side show={showSide}>\n        <SideTitle>\n          <div>\n          Participants ({room.participants.length})\n          </div>\n          <SideClose onClick={() => setShowSide(false)}><div/></SideClose>\n        </SideTitle>\n        <Participants>\n          {participants.map(p => <Participant participant={p} />)}\n        </Participants>\n        <ShareWrapper>\n          <InputWithCopyIcon title=\"Share room ID\" text={room.roomId} />\n        </ShareWrapper>\n      </Side>\n    </Wrapper>\n  );\n};\n\nexport default GroupCall;\n","import { Avatar, ParticipantOverlay } from 'components/organisms/GroupCall/MediaContent';\nimport React from 'react';\nimport SendbirdCall, { useSbCalls, StatefulRoom } from 'lib/sendbird-calls';\nimport { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport Modal from 'components/templates/Modal';\nimport ReactModal from 'react-modal';\nimport { heavy, normal } from 'styles/fonts';\nimport { toast } from \"react-toastify\";\nimport { ErrorMessage } from \"../../atoms/Toast\";\n\nconst VideoBox = styled.div<{ height: number; }>`\n  position: relative;\n  width: 432px;\n  height: ${props => props.height}px;\n  margin-bottom: 17px;\n  background-color: var(--navy-800);\n  video {\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst CheckBoxWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  ${normal};\n  ${heavy};\n  color: var(--navy-900);\n  cursor: pointer;\n  input {\n    width: 18px;\n    height: 18px;\n    margin-right: 9px;\n  }\n  margin-bottom: 10px;\n`\n\nconst CheckBox = styled.div<{ selected: boolean; }>`\n  width: 20px;\n  height: 20px;\n  margin: 0 8px 0 0;\n  padding: 1px;\n  object-fit: contain;\n  background-image: url(${props => props.selected ? '/icons/icon-checkbox-selected.svg' : '/icons/icon-checkbox-unselected.svg'});\n  background-repeat: no-repeat;\n  background-position: center center;\n`;\n\nconst Preview = (props: ReactModal.Props & { close: () => void; room: StatefulRoom }) => {\n  const sbCalls = useSbCalls();\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [videoEnabled, setVideoEnabled] = useState(true);\n  const [videoHeight, setVideoHeight] = useState(243);\n\n  useEffect(() => {\n    if (!props.isOpen || !videoEnabled) return () => {};\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const mediaAccess = SendbirdCall.useMedia({ audio: true, video: videoEnabled })\n\n    // @ts-ignore\n    mediaAccess.on('streamChanged', (stream) => {\n      if (videoRef.current) videoRef.current.srcObject = stream;\n    });\n\n    return () => {\n      if (videoRef.current) videoRef.current.srcObject = null;\n      mediaAccess?.dispose();\n    }\n  }, [props.isOpen, videoEnabled]);\n\n  useEffect(() => {\n    if (!videoRef.current) return;\n    setVideoHeight(Math.max(videoRef.current.offsetHeight, videoHeight));\n  }, [videoHeight, videoEnabled])\n\n  const enter = () => {\n    props.close();\n    props.room.enter({\n      audioEnabled,\n      videoEnabled,\n    }).catch(error => {\n      toast.error(<ErrorMessage message={error.message} />, { autoClose: 2000 });\n    })\n  }\n  return (\n    <Modal\n      title=\"Enter room\"\n      content={(\n        <React.Fragment>\n          <VideoBox height={videoHeight}>\n            <video ref={videoRef} autoPlay playsInline muted={!audioEnabled} />\n            {videoEnabled ||\n              <ParticipantOverlay>\n                <Avatar url={sbCalls.user?.profileUrl} />\n              </ParticipantOverlay>\n            }\n          </VideoBox>\n\n          <CheckBoxWrapper onClick={() => setAudioEnabled(!audioEnabled)}>\n            <CheckBox selected={!audioEnabled}/>\n            Mute my audio\n          </CheckBoxWrapper>\n          <CheckBoxWrapper onClick={() => setVideoEnabled(!videoEnabled)}>\n            <CheckBox selected={!videoEnabled}/>\n            Turn off my video\n          </CheckBoxWrapper>\n          <div style={{ height: '22px' }}/>\n        </React.Fragment>\n      )}\n      footer={{\n        cancel: { label: 'Cancel' },\n        confirm: { label: 'Enter', onClick: enter }\n      }}\n      {...props}\n    />\n  );\n};\n\nexport default Preview;\n","import { InputWithCopyButton, InputWithCopyIcon } from 'components/molecules/Info';\nimport ReactModal from 'react-modal';\nimport React from 'react';\n\nimport Modal from 'components/templates/Modal';\nimport { appId, currentUser } from 'sendbird-calls';\nimport styled from 'styled-components';\nimport { normal } from 'styles/fonts';\n\nconst Text = styled.div`\n  ${normal};\n  letter-spacing: -0.1px;\n  color: var(--navy-900);\n  margin-bottom: 30px;\n`;\n\nconst ApplicationInformation = (props: ReactModal.Props & { close: () => void; }) => {\n  return (\n    <Modal\n      title=\"Application Information\"\n      content={(\n        <React.Fragment>\n          <InputWithCopyIcon text={currentUser.userId} title=\"Name\" icon={false} />\n          <div style={{ height: '22px' }}/>\n          <InputWithCopyIcon text={appId} title=\"ID\"/>\n        </React.Fragment>\n      )}\n      footer={{}}\n      {...props}\n    />\n  );\n};\n\nexport default ApplicationInformation;\n\n","import { Fragment, MouseEvent, ReactNode } from 'react';\nimport { useToggle } from 'react-use';\nimport styled from 'styled-components';\n\nimport Button from 'components/atoms/Button';\nimport * as fonts from 'styles/fonts';\nimport { useOnClickOutside } from 'utils/hooks';\n\nconst ItemWrapper = styled(Button)`\n  ${fonts.normal};\n  ${fonts.heavy};\n  width: 100%;\n  min-height: 32px;\n  display: block;\n  box-sizing: border-box;\n  text-align: left;\n  justify-content: flex-start;\n  padding: 0 16px;\n\n  &:not([disabled]):hover {\n    background-color: var(--navy-50);\n  }\n  \n  &:disabled {\n    cursor: default;\n  }\n`;\n\nexport type TMenuItem = {\n  label: string;\n  element?: ReactNode;\n  handleClick?: (e: MouseEvent<HTMLButtonElement>) => void;\n  disabled?: boolean;\n};\n\ntype MenuItemProps = {\n  item: TMenuItem;\n  toggleOpened: () => void;\n};\n\nconst MenuItem = ({\n  item: {\n    label,\n    element,\n    handleClick = () => {},\n    disabled = false,\n  }, toggleOpened\n}: MenuItemProps) => (\n  <ItemWrapper type=\"button\" onClick={(e) => {\n    toggleOpened();\n    handleClick(e)\n  }} disabled={disabled}>\n    {element || label}\n  </ItemWrapper>\n);\n\nconst MenuItems = styled.div`\n  position: absolute;\n  top: 40px;\n  right: 0;\n  padding: 8px 0;\n  width: 200px;\n  border-radius: 4px;\n  box-shadow: 0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(33, 34, 66, 0.08), 0 8px 10px 1px rgba(33, 34, 66, 0.12);\n  background-color: var(--white);\n  z-index: 100;\n`;\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\ntype MenuProps = {\n  items: TMenuItem[];\n  Dropdown: React.FC<any>; // TODO: Remove any\n  Divider?: React.FC;\n  disabled?: boolean;\n};\n\nconst Menu = ({ items, Dropdown, Divider, disabled }: MenuProps) => {\n  const [opened, toggleOpened] = useToggle(false);\n  const ref = useOnClickOutside(() => toggleOpened(false));\n\n  return (\n    <Wrapper ref={ref}>\n      <Dropdown onClick={() => { if (!disabled) toggleOpened(); }} />\n      {opened && (\n      <MenuItems>\n        {items.map((item, i) => (\n          <Fragment key={item.label}>\n            <MenuItem item={item} toggleOpened={toggleOpened} />\n            {\n              Divider && i < items.length - 1\n              && <Divider />\n            }\n          </Fragment>\n        ))}\n      </MenuItems>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default Menu;\n","import { useEffect, useRef } from 'react';\n\nexport const useOnClickOutside = (handler: () => void) => {\n  const ref = useRef(null);\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      // @ts-ignore\n      if (ref.current && !ref.current.contains(event.target)) {\n        handler();\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [ref]);\n  return ref;\n};\n","import ApplicationInformation from 'components/organisms/ApplicationInformation';\nimport DeviceSettings from 'components/organisms/DeviceSettings';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styled, { css, useTheme } from 'styled-components';\n\nimport Menu from 'components/organisms/Menu';\nimport { useSbCalls } from 'lib/sendbird-calls';\nimport { demi } from 'styles/fonts';\nimport * as fonts from 'styles/fonts';\nimport * as mixins from 'styles/mixins';\nimport { media, mediaMax } from 'utils';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 80px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: var(--purple-300);\n  ${props => (props.theme.isWidget ? css`\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  ` : ``)};\n  \n  ${media.main} {\n    height: 48px;\n  }\n`;\n\nconst Items = styled.div`\n  width: 100%;\n  height: 100%;\n  display: inline-flex;\n  position: relative;\n  align-items: center;\n  \n  ${media.main} {\n    width: auto;\n    flex-direction: row-reverse;\n  }\n`;\n\nconst UserDiv = styled.div`\n  display: flex;\n  height: 40px;\n  align-items: center;\n  border-radius: 4px;\n  padding: 4px 8px;\n  margin-right: 8px;\n  ${media.main} {\n    flex-direction: row-reverse;\n    &:hover {\n      cursor: pointer;\n      background-color: var(--purple-400);\n    }\n  }\n`;\n\nconst Profile = styled.div<{ profileUrl?: string }>`\n  width: 40px;\n  height: 40px;\n  flex-shrink: 0;\n  margin-left: 24px;\n  border-radius: 50%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  ${props => (props.profileUrl ? css`\n    background-image: url(${props.profileUrl});\n  ` : css`\n    background-image: url(/icons/icon-avatar.svg);\n  `)};\n  ${media.main} {\n    width: 32px;\n    height: 32px;\n  }\n`;\n\nconst Info = styled.div`\n  ${mixins.flexColumn};\n  justify-content: center;\n`;\n\nconst Nickname = styled.div`\n  ${fonts.demi};\n  white-space: nowrap;\n  color: var(--white);\n  ${mediaMax.main} {\n    ${fonts.midBig};\n    ${fonts.heavy};\n  }\n  ${media.main} {\n    ${fonts.normal};\n    ${fonts.heavy};\n  }\n`;\n\nconst UserId = styled.div`\n  ${fonts.small};\n  color: #ffffff;\n  ${media.main} {\n    display: none;\n  }\n  word-break: break-all;\n`;\n\nconst UserDetail = styled.div`\n  display: flex;\n  ${Profile} {\n    width: 32px;\n    height: 32px;\n    margin-left: 0;\n    margin-right: 16px;\n  }\n  ${Nickname} {\n    color: var(--navy-900);\n    ${demi};\n  }\n  ${UserId} {\n    display: inherit;\n    color: var(--navy-600);\n    line-height: 1.33;\n  }\n`;\n\nconst MenuDivider = styled.div`\n  width: 100%;\n  height: 1px;\n  margin: 8px 0;\n  background-color: var(--navy-100);\n`;\n\nconst Divider = styled.div`\n  display: none;\n  ${media.main} {\n    display: inherit;\n    width: 1px;\n    height: 20px;\n    margin: 0 8px;\n    background-color: var(--purple-400);\n  }\n`;\n\nconst HeaderButtons = styled.div`\n  ${mixins.flexCenter};\n  margin-left: auto;\n  margin-right: 14px;\n  ${media.main} {\n    margin-left: 14px;\n    margin-right: 0;\n  }\n`;\n\nconst SettingsButton = styled.div`\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n  position: relative;\n  margin-left: 2px;\n  margin-right: 2px;\n  border-radius: 4px;\n  background-image: url(/icons/ic-settings.svg);\n  background-repeat: no-repeat;\n  background-position: center;\n  \n  &:hover {\n    background-color: var(--purple-400);\n  }\n`;\n\nconst CloseButton = styled.div`\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n  display: block;\n  margin: 0 2px;\n  border-radius: 4px;\n  background-image: url(/icons/ic-close-24.svg);\n  background-repeat: no-repeat;\n  background-position: center;\n  &:hover {\n    background-color: var(--purple-400);\n  }\n  ${media.main} {\n    display: none;\n  }\n`;\n\nconst HeaderLogo = styled.div`\n  display: none;\n  width: 108px;\n  height: 24px;\n  margin-left: 16px;\n  background-image: url(/icons/ic-logo-horizontal-inverse-01.svg);\n  background-repeat: no-repeat;\n  &:hover {\n    cursor: pointer;\n  }\n  ${media.main} {\n    display: block;\n  }\n`;\n\ninterface HeaderProps {}\nconst Header = () => {\n  const sbCalls = useSbCalls();\n  const { isWidget } = useTheme();\n  const history = useHistory();\n  const { user } = sbCalls;\n\n  const [showDeviceSettings, setShowDeviceSettings] = useState(false);\n  const [showAppInfo, setShowAppInfo] = useState(false);\n\n  return (\n    <Wrapper>\n      <HeaderLogo onClick={() => history.push('/')} />\n      <Items>\n        <Menu\n          items={[\n            {\n              label: 'User Detail',\n              element: (\n                <UserDetail>\n                  <Profile profileUrl={user?.profileUrl} />\n                  <Info>\n                    <Nickname>{user?.nickname || ''}</Nickname>\n                    <UserId>User ID: {user?.userId || ''}</UserId>\n                  </Info>\n                </UserDetail>\n              ),\n              disabled: true,\n            },\n            {\n              label: 'Sign out',\n              handleClick: () => {\n                sbCalls.deauth();\n              },\n            },\n          ]}\n          Dropdown={\n            props => (\n              <UserDiv {...props}>\n                <Profile profileUrl={user?.profileUrl} />\n                <Info>\n                  <Nickname>{user?.nickname || ''}</Nickname>\n                  <UserId>User ID: {user?.userId || ''}</UserId>\n                </Info>\n              </UserDiv>\n            )\n          }\n          Divider={MenuDivider}\n          disabled={isWidget}\n        />\n\n        <Divider />\n\n        <HeaderButtons>\n          <Menu\n            items={[\n              {\n                label: 'Device settings',\n                handleClick: () => { setShowDeviceSettings(true); },\n              },\n              {\n                label: 'Application information',\n                handleClick: () => { setShowAppInfo(true); },\n              },\n              {\n                label: 'Sign out',\n                handleClick: () => {\n                  sbCalls.deauth();\n                },\n              },\n            ]}\n            Dropdown={SettingsButton}\n          />\n          {isWidget && <CloseButton onClick={() => document.getElementById('widget-close-btn')?.click()} />}\n        </HeaderButtons>\n      </Items>\n      <DeviceSettings\n        isOpen={showDeviceSettings}\n        close={() => setShowDeviceSettings(false)}\n      />\n      <ApplicationInformation isOpen={showAppInfo} close={() => setShowAppInfo(false)} />\n    </Wrapper>\n  );\n};\n\nexport default Header;\n","import Button from 'components/atoms/Button';\nimport Icon from 'components/atoms/Icon';\nimport Input, { useTextInput } from 'components/atoms/Input';\nimport Overlay from 'components/atoms/Overlay';\nimport { ErrorMessage } from 'components/atoms/Toast';\nimport GroupCall from 'components/organisms/GroupCall';\nimport Preview from 'components/organisms/Preview';\nimport Header from 'components/organisms/Header';\nimport RoomCreated from 'components/organisms/RoomCreated';\nimport { useSbCalls } from 'lib/sendbird-calls';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport { FullScreen, FullScreenContent } from 'components/templates/Screen';\nimport * as fonts from 'styles/fonts';\nimport { toast } from 'react-toastify';\nimport { useLocation } from \"react-use\";\n\nconst Wrapper = styled(FullScreen)`\n`;\n\nconst Content = styled(FullScreenContent)`\n  width: 688px;\n`\n\nconst Title = styled.div`\n  ${fonts.big};\n  ${fonts.demi};\n  margin-bottom: 16px;\n`;\n\nconst Description = styled.div`\n  ${fonts.normal};\n  ${fonts.heavy};\n  color: var(--navy-600);\n  height: 20px;\n  text-align: center;\n  margin-bottom: 48px;\n  letter-spacing: -0.1px;\n`;\n\nconst Boxes = styled.div`\n  display: flex;\n`;\n\nconst FormBox = styled.div`\n  width: 336px;\n  height: 248px;\n  padding: 32px;\n  margin-right: 16px;\n  &:last-child {\n    margin-right: 0;\n  }\n  border-radius: 4px;\n  border: solid 1px var(--navy-100);\n  background-color: var(--white);\n`;\n\nconst FormBoxIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n  margin-bottom: 16px;\n`\n\nconst FormBoxTitle = styled.div`\n  ${fonts.midBig};\n  ${fonts.demi};\n  color: var(--navy-900);\n  margin-bottom: 8px;\n`;\n\nconst FormBoxDescription = styled.div`\n  ${fonts.normal};\n  color: var(--navy-900);\n  margin-bottom: 32px;\n`\n\nconst FormButton = styled(Button)`\n  ${fonts.normal};\n  ${fonts.demi};\n  color: var(--white);\n  width: 100%;\n`\n\nconst TextButton = styled.div<{ disabled: boolean; }>`\n  ${fonts.normal};\n  ${fonts.demi};\n  color: var(--purple-300);\n  height: 20px;\n  text-align: center;\n  cursor: pointer;\n  margin-left: 16px;\n  ${props => props.disabled ? 'color: var(--navy-300);' : ''};\n`\nconst FormInput = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  ${Input} {\n    \n  }\n`\n\nconst GroupCallMain = () => {\n  const sbCalls  = useSbCalls();\n  const query = new URLSearchParams(useLocation().search);\n  const roomIdQuery = query.get('room_id');\n  const { rooms } = sbCalls;\n  const [roomId, roomIdInput, setRoomId] = useTextInput({ id: 'roomIdInput', initValue: '', placeholder: 'Room ID' });\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [showRoomCreated, setShowRoomCreated] = useState(false);\n\n  useEffect(() => {\n    const room = rooms[rooms.length - 1];\n  }, [rooms]);\n\n  useEffect(() => {\n    if (roomIdQuery) {\n      enter(roomIdQuery, true);\n    }\n  }, [])\n\n  const onCall = useMemo(() => {\n    return rooms.find(r => !!r.localParticipant);\n  }, [rooms]);\n\n  const enter = useCallback(async (roomId: string, skipDialog: boolean) => {\n    try {\n      const room = await sbCalls.fetchRoomById(roomId);\n\n      if (skipDialog) {\n        room.enter({\n          audioEnabled: true,\n          videoEnabled: true,\n        }).catch(error => {\n          toast.error(<ErrorMessage message={error.message} />, { autoClose: 2000 });\n        })\n      } else {\n        setIsModalOpen(true);\n      }\n    } catch (e) {\n      console.error(e);\n      toast.error(<ErrorMessage message={`Check room ID and try again.`} />, { autoClose: 2000 });\n    }\n  }, [sbCalls])\n\n  const createRoom = useCallback(() => {\n    sbCalls.createRoom({ roomType: sbCalls.RoomType.SMALL_ROOM_FOR_VIDEO })\n      .then(room => {\n        return room.enter({\n          audioEnabled: true,\n          videoEnabled: true,\n        });\n      })\n      .then(() => {\n        setShowRoomCreated(true);\n      })\n      .catch(e => {\n        toast.error(<ErrorMessage message={e.message} />, { autoClose: 2000 });\n      })\n  }, [sbCalls]);\n\n  // console.log(rooms);\n  console.log(JSON.stringify(rooms[rooms.length - 1], null, 4));\n  // console.log({ onCall });\n\n\n  return (\n    <Wrapper>\n      <Header />\n      <Content>\n        <Title className=\"\">Make a group call</Title>\n        <Description>Sendbird Calls now provides Rooms where multiple users can come into a room for a group call. </Description>\n        <Boxes>\n          <FormBox>\n            <FormBoxIcon src=\"/icons/ic-add-room.svg\" />\n            <FormBoxTitle>Create a room</FormBoxTitle>\n            <FormBoxDescription>Start a group call in a room and share the room ID with others.</FormBoxDescription>\n            <FormButton primary size=\"mid\" onClick={() => { createRoom() }}>Create</FormButton>\n          </FormBox>\n          <FormBox>\n            <FormBoxIcon src=\"/icons/icon-join.svg\" />\n            <FormBoxTitle>Enter with room ID</FormBoxTitle>\n            <FormBoxDescription>Enter an existing room to participate in a group call.</FormBoxDescription>\n            <FormInput>\n              {roomIdInput}\n              <TextButton onClick={() => { enter(roomId, false) }} disabled={!roomId}>Enter</TextButton>\n            </FormInput>\n          </FormBox>\n        </Boxes>\n        <Preview\n          isOpen={isModalOpen}\n          room={rooms[rooms.length - 1]}\n          close={() => setIsModalOpen(false)}\n          contentLabel=\"Preview\"\n        />\n        {onCall &&\n          <Overlay>\n            <GroupCall room={onCall} />\n            <RoomCreated\n              isOpen={showRoomCreated}\n              room={onCall}\n              close={() => setShowRoomCreated(false)}\n            />\n          </Overlay>\n        }\n      </Content>\n    </Wrapper>\n  )\n}\n\nexport default GroupCallMain;\n","import PrivateRoute from 'components/atoms/PrivateRoute';\nimport {\n  Switch,\n  useRouteMatch,\n} from 'react-router-dom';\nimport GroupCallMain from '../GroupCallMain';\n\n\nconst GroupCallFullScreen = () => {\n  const { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <PrivateRoute exact path={path} component={GroupCallMain} />\n    </Switch>\n  );\n\n};\n\nexport default GroupCallFullScreen;\n","import {\n  Switch,\n  Route,\n  useRouteMatch, Redirect,\n} from 'react-router-dom';\n\nimport GroupCallLanding from './components/pages/GroupCallLanding';\nimport GroupCallFullScreen from './components/pages/GroupCallFullScreen';\n\nconst GroupCallApp = () => {\n  const { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route path={`${path}/full-screen`} component={GroupCallFullScreen} />\n      <Redirect to={`${path}/full-screen`} />\n      {/*<Route exact path={path} component={GroupCallLanding} />*/}\n    </Switch>\n  );\n\n};\n\nexport default GroupCallApp;\n","/**\n * This is temporary container for development purpose only.\n */\nimport { useEffect } from 'react';\nimport { SoundType } from 'sendbird-calls';\nimport type { AuthOption } from 'sendbird-calls';\n\nimport { useSbCalls } from 'lib/sendbird-calls';\nimport storage from 'lib/storage';\n\nconst Authenticator: React.FC = () => {\n  const sbCalls = useSbCalls();\n  useEffect(() => {\n    const stored = storage.getItem('sbCalls');\n\n    const appId = stored?.appId || process.env.REACT_APP_APP_ID || '';\n    const userId = stored?.userId || process.env.REACT_APP_USER_ID || '';\n    const accessToken = stored?.accessToken || process.env.REACT_APP_ACCESS_TOKEN || '';\n    const IS_ACCESS_TOKEN_NEEDED = process.env.REACT_APP_IS_ACCESS_TOKEN_NEEDED === 'true';\n\n    const option: AuthOption = { userId };\n    if (IS_ACCESS_TOKEN_NEEDED) option.accessToken = accessToken;\n    if (appId && userId) {\n      sbCalls.init(appId);\n      sbCalls.addDirectCallSound(SoundType.DIALING, '/sounds/Dialing.mp3');\n      sbCalls.addDirectCallSound(SoundType.RINGING, '/sounds/Ringing.mp3');\n      sbCalls.addDirectCallSound(SoundType.RECONNECTING, '/sounds/Reconnecting.mp3');\n      sbCalls.addDirectCallSound(SoundType.RECONNECTED, '/sounds/Reconnected.mp3');\n      sbCalls.auth(option);\n    }\n  }, []);\n  return null;\n};\n\nexport default Authenticator;\n","type Job = (lastResult: any, count: number) => any;\n\nexport default class PeriodicJob {\n\n  jobFunc: Function;\n  interval: number;\n  lastResult: any;\n  count: number;\n  timer?: ReturnType<typeof setInterval>;\n\n  constructor(jobFunc: Job, interval = 1000) {\n    this.jobFunc = jobFunc;\n    this.interval = interval;\n    this.lastResult = undefined;\n    this.count = 0;\n  }\n\n  start() {\n    this.stop();\n\n    this.timer = setInterval(() => {\n      this.count += 1;\n      this.lastResult = this.jobFunc(this.lastResult, this.count);\n    }, this.interval);\n\n    return this;\n  }\n\n  stop() {\n    if (this.timer !== undefined) {\n      clearInterval(this.timer);\n      this.timer = undefined;\n    }\n    return this;\n  }\n\n}\n","import { useEffect, useState } from 'react';\n\nimport PeriodicJob from 'utils/periodicJob';\n\nexport const CallingText = () => {\n  const dots = ['.', '..', '...'];\n  const [frame, setFrame] = useState(0);\n  useEffect(() => {\n    const job = new PeriodicJob((x, count) => {\n      setFrame(count);\n    });\n    job.start();\n    return () => { job.stop(); };\n  }, []);\n  return <span>Calling{dots[frame % 3]}</span>;\n};\n\n\ntype RingingTextProps = { isVideoCall: boolean };\nexport const RingingText: React.FC<RingingTextProps> = ({ isVideoCall }) => {\n  const dots = ['.', '..', '...'];\n  const [frame, setFrame] = useState(0);\n  useEffect(() => {\n    const job = new PeriodicJob((x, count) => {\n      setFrame(count);\n    });\n    job.start();\n    return () => { job.stop(); };\n  }, []);\n  return <span>Incoming {isVideoCall ? 'video' : 'audio'} call{dots[frame % 3]}</span>;\n};\n","import { useCallback, useState } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  AudioCallAcceptButton,\n  VideoCallAcceptButton,\n  MuteButton, UnmuteButton, StartVideoButton, StopVideoButton, EndButton,\n} from 'components/atoms/CallButtons';\nimport { CallingText, RingingText } from 'components/atoms/CallTexts';\nimport Screen from 'components/templates/Screen';\nimport { useSbCalls } from 'lib/sendbird-calls';\nimport type { StatefulDirectCall } from 'lib/sendbird-calls';\nimport * as fonts from 'styles/fonts';\nimport * as mixins from 'styles/mixins';\nimport { isSafari, media } from 'utils';\n\nconst Wrapper = styled(Screen)`\n ${mixins.flexCenter};\n flex-direction: column;\n position: absolute;\n top: 0;\n left: 0;\n z-index: 1; // TODO: Temporary z-index because of menu dropdown coming upfront\n color: white;\n background-color: var(--navy-900);\n`;\n\nconst Foreground = styled.div`\n  ${mixins.flexCenter};\n  position: relative;\n  flex-direction: column;\n`;\n\nconst PeerProfile = styled.img`\n  display: block;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  object-fit: contain;\n  margin-bottom: 24px;\n`;\nconst PeerName = styled.div`\n  ${fonts.big};\n  ${fonts.demi};\n  min-height: 32px;\n  height: auto;\n  text-align: center;\n  word-break: break-all;\n  margin-bottom: 4px;\n`;\n\nconst ConnectionInfo = styled.div`\n  ${fonts.normal};\n  color: var(--white);\n  height: 20px;\n  margin-bottom: 24px;\n`;\n\nconst PeerState = styled.div`\n  ${mixins.flexColumn};\n  align-items: center;\n  margin-bottom: 97px;\n`;\n\nconst PeerMuteIcon = styled.div`\n  width: 32px;\n  height: 32px;\n  margin-bottom: 8px;\n  background-image: url(/icons/ic-callkit-audio-off-white.svg);\n  background-repeat: no-repeat;\n  background-position: center;\n`;\n\nconst PeerMuteLabel = styled.div`\n  ${fonts.small};\n  display: block;\n  color: var(--white);\n`;\n\nconst Background = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n  border-radius: 8px;\n  ${media.main} {\n    border-radius: 0;\n  }\n`;\n\ntype MediaViewSize = 'hidden' | 'small' | 'full';\nconst getVideoStyleFromSize = (size: MediaViewSize) => {\n  switch (size) {\n    case 'hidden':\n      return css`\n          opacity: 0;\n          transition: all 0.5s;\n          display: none;\n        `;\n    case 'small':\n      return css`\n          position: absolute;\n          top: 16px;\n          left: 16px;\n          width: 200px;\n          height: 150px;\n          border-radius: 8px;\n          background-color: var(--navy-300);\n        `;\n    case 'full':\n      return css`\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          transition: all 1s;\n        `;\n    default:\n      return '';\n  }\n};\n\nconst VideoViewDiv = styled.div<{ size: MediaViewSize }>`\n  position: absolute;\n  overflow: hidden;\n  ${props => getVideoStyleFromSize(props.size)}\n`;\n\nconst VideoView = styled.video`\n  left: 50%;\n  height: 100%;\n  position: absolute;\n  transform: translate(-50%);\n`;\n\nconst Controls = styled.div`\n  ${mixins.flexCenter};\n  position: absolute;\n  bottom: 40px;\n  ${media.main} {\n    position: relative;\n  }\n`;\n\nconst CloseButton = styled.button`\n  ${fonts.normal};\n  border: none;\n  width: 248px;\n  height: 48px;\n  color: var(--white);\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 4px;\n  margin-bottom: 28px;\n  &:hover {\n    background: rgba(255, 255, 255, 0.28);\n  }\n`;\n\ninterface CallViewProps { call: StatefulDirectCall; }\nconst CallView: React.FC<CallViewProps> = ({ call }) => {\n  const { clearCalls } = useSbCalls();\n  const {\n    callState,\n    caller,\n    localUser,\n    remoteUser,\n    isLocalAudioEnabled,\n    isLocalVideoEnabled,\n    isRemoteAudioEnabled,\n    isRemoteVideoEnabled,\n    localMediaView,\n    remoteMediaView,\n  } = call;\n\n  const localMediaViewRef = useCallback(node => {\n    call.setLocalMediaView(node);\n  }, []);\n\n  const remoteMediaViewRef = useCallback(node => {\n    call.setRemoteMediaView(node);\n  }, []);\n\n  const accept = useCallback(() => {\n    call.accept({\n      callOption: {\n        localMediaView,\n        remoteMediaView,\n        audioEnabled: true,\n        videoEnabled: true,\n      },\n    });\n  }, [localMediaView, remoteMediaView]);\n\n  let localMediaViewSize: MediaViewSize;\n  let remoteMediaViewSize: MediaViewSize;\n\n  switch (callState) {\n    case 'dialing':\n    case 'ringing':\n      localMediaViewSize = 'full';\n      remoteMediaViewSize = 'hidden';\n      break;\n    case 'connected':\n    case 'reconnecting':\n      localMediaViewSize = 'small';\n      remoteMediaViewSize = 'full';\n      break;\n    case 'ended':\n    default:\n      localMediaViewSize = 'hidden';\n      remoteMediaViewSize = 'hidden';\n  }\n\n  const is = useCallback((...states) => states.some(state => state === callState), [callState]);\n  const isNot = useCallback((...states) => !states.some(state => state === callState), [callState]);\n  const connectedStates = ['established', 'connected', 'reconnecting', 'reconnected'];\n\n  return (\n    <Wrapper>\n      <Background>\n        {\n          call.isVideoCall\n            ? (\n              <>\n                <VideoViewDiv size={remoteMediaViewSize}>\n                  <VideoView\n                    ref={remoteMediaViewRef}\n                    playsInline\n                    autoPlay\n                    muted={false}\n                    controls={isSafari()}\n                  />\n                </VideoViewDiv>\n                <VideoViewDiv size={localMediaViewSize}>\n                  <VideoView\n                    ref={localMediaViewRef}\n                    playsInline\n                    autoPlay\n                    muted\n                    style={{ backgroundColor: 'var(--white)' }}\n                  />\n                </VideoViewDiv>\n              </>\n            )\n            : (\n              <>\n                <audio\n                  ref={localMediaViewRef}\n                  playsInline\n                  autoPlay\n                  muted\n                />\n                <audio\n                  ref={remoteMediaViewRef}\n                  playsInline\n                  autoPlay\n                  muted={false}\n                  controls={isSafari()}\n                />\n              </>\n            )\n        }\n      </Background>\n      <Foreground>\n        {\n          remoteUser.profileUrl && <PeerProfile src={remoteUser.profileUrl || ''} alt=\"Sendbird voice & video call opponent profile photo\" />\n        }\n        <PeerName>{remoteUser.nickname || remoteUser.userId}</PeerName>\n        {\n          isNot(...connectedStates)\n          && (\n            <ConnectionInfo>\n              {is('dialing') && <CallingText />}\n              {is('ringing') && <RingingText isVideoCall={call.isVideoCall} />}\n              {is('ended') && <>{call.endResult}</>}\n            </ConnectionInfo>\n          )\n        }\n        <PeerState>\n          {\n            is(...connectedStates) && !isRemoteAudioEnabled && (\n              <>\n                <PeerMuteIcon />\n                <PeerMuteLabel>\n                  {remoteUser.userId} audio muted this call\n                </PeerMuteLabel>\n              </>\n            )\n          }\n        </PeerState>\n\n        <Controls>\n          {\n            isNot('ended') && ([\n              isLocalAudioEnabled\n                ? <MuteButton key=\"mute-audio\" onClick={() => call.muteMicrophone()} />\n                : <UnmuteButton key=\"unmute-audio\" onClick={() => call.unmuteMicrophone()} />,\n              isLocalVideoEnabled\n                ? <StopVideoButton key=\"stop-video\" onClick={() => call.stopVideo()} />\n                : <StartVideoButton key=\"start-video\" onClick={() => call.startVideo()} />,\n            ])\n          }\n          {\n            is('ringing')\n            && (call.isVideoCall\n              ? <VideoCallAcceptButton onClick={accept} />\n              : <AudioCallAcceptButton onClick={accept} />\n            )\n          }\n          {\n            isNot('ended')\n            && <EndButton onClick={() => call.end()} />\n          }\n          {\n            is('ended')\n            && <CloseButton onClick={() => clearCalls()}>Back</CloseButton>\n          }\n        </Controls>\n      </Foreground>\n    </Wrapper>\n  );\n};\n\nexport default CallView;\n","import styled from 'styled-components';\nimport type { DirectCallOption } from 'sendbird-calls';\n\nimport { AudioDialButton, VideoDialButton } from 'components/atoms/CallButtons';\nimport { useTextInput } from 'components/atoms/Input';\nimport { useSbCalls } from 'lib/sendbird-calls';\nimport * as fonts from 'styles/fonts';\nimport * as mixins from 'styles/mixins';\nimport { media } from 'utils';\n\nconst Wrapper = styled.div`\n\n`;\n\nconst FormContainer = styled.div`\n  ${mixins.flexCenter};\n  width: 312px;\n  flex-direction: column;\n  box-sizing: border-box;\n  border: none;\n  \n  ${media.main} {\n    background-color: var(--white);\n  }\n`;\n\nconst Title = styled.div`\n  ${fonts.big};\n  ${fonts.demi};\n  margin-bottom: 16px;\n`;\n\nconst Description = styled.div`\n  ${fonts.normal};\n  ${fonts.heavy};\n  color: rgb(138, 146, 186);\n  height: 40px;\n  text-align: center;\n  margin-bottom: 32px;\n  letter-spacing: -0.1px;\n`;\n\nconst ButtonsGroup = styled.div`\n  ${mixins.flexCenter};\n  margin-top: 16px;\n`;\n\nfunction getCallOption(callOption?: DirectCallOption) {\n  return {\n    localMediaView: undefined,\n    remoteMediaView: undefined,\n    videoEnabled: true,\n    audioEnabled: true,\n    ...callOption,\n  };\n}\n\n\ninterface DialViewProps {}\nconst DialView: React.FC<DialViewProps> = props => {\n  const sbCall = useSbCalls();\n  const [userId, userIdInput] = useTextInput({ id: 'userIdInput', initValue: '', placeholder: 'Enter user ID' });\n  const dial = (isVideoCall: boolean) => {\n    sbCall.dial({ userId, isVideoCall, callOption: getCallOption({}) });\n  };\n\n  return (\n    <Wrapper>\n      <FormContainer>\n        <Title className=\"\">Make a call</Title>\n        {userIdInput}\n\n        <ButtonsGroup>\n          <VideoDialButton onClick={() => dial(true)} />\n          <AudioDialButton onClick={() => dial(false)} />\n        </ButtonsGroup>\n      </FormContainer>\n    </Wrapper>\n  );\n};\n\nexport default DialView;\n","import {useSbCalls} from \"../../../lib/sendbird-calls\";\nimport {useHistory, useLocation, useRouteMatch} from \"react-router-dom\";\nimport {useEffect, useMemo} from \"react\";\nimport Header from \"../../organisms/Header\";\nimport Authenticator from \"../../../containers/Authenticator\";\nimport CallView from \"../../views/CallView\";\nimport DialView from \"../../views/DialView\";\nimport styled from \"styled-components\";\nimport {media} from \"../../../utils\";\nimport Screen from \"../../templates/Screen/Screen\";\nimport * as mixins from \"../../../styles/mixins\";\nimport Overlay from \"../../atoms/Overlay\";\n\nconst Wrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  padding-bottom: 55px; // TabToolbar height\n  ${media.main} {\n    padding-bottom: 0;\n  }\n`;\n\nconst Contents = styled(Screen)`\n  ${mixins.flexCenter};\n  flex-direction: column;\n  height: calc(100% - 80px - 57px);\n  ${media.main} {\n    height: calc(100% - 48px - 56px);\n  }\n`;\n\ninterface DirectCallMainProps {\n}\nconst DirectCallMain: React.FC<DirectCallMainProps> = ({ children }) => {\n    const { isAuthenticated, calls } = useSbCalls();\n    const history = useHistory();\n    const location = useLocation();\n    const query = new URLSearchParams(useLocation().search);\n    const { path, url } = useRouteMatch();\n\n    useEffect(() => {\n        if (location.pathname === `${url}/login`) {\n            if (isAuthenticated) {\n                history.replace('/main/dial');\n            }\n        }\n    }, [isAuthenticated, location.pathname]);\n\n    const onCall = useMemo(() => {\n        return calls.find(call => call.isOngoing)\n    }, [calls])\n\n    const header = location.pathname === `${url}/login`\n        ? null\n        : [\n            <Header key=\"header\"/>,\n            <Authenticator key=\"authenticator\"/>,\n        ];\n\n    return (\n        <Wrapper>\n            {!!calls.length && <CallView call={calls[calls.length - 1]}/>}\n            {header}\n            <Contents>\n                <DialView />\n                {onCall &&\n                <Overlay>\n                  <CallView call={onCall} />\n                </Overlay>\n                }\n            </Contents>\n        </Wrapper>\n    );\n};\n\nexport default DirectCallMain;","import PrivateRoute from 'components/atoms/PrivateRoute';\nimport {\n    Switch,\n    useRouteMatch,\n} from 'react-router-dom';\nimport DirectCallMain from \"../DirectCallMain\";\n\n\nconst DirectCallFullScreen = () => {\n  const { path } = useRouteMatch();\n\n  return (\n      <Switch>\n          <PrivateRoute exact path={path} component={DirectCallMain} />\n      </Switch>\n  );\n\n};\n\nexport default DirectCallFullScreen;\n","import { Route, Switch, useRouteMatch, Redirect } from \"react-router-dom\";\nimport DirectCallLanding from \"./components/pages/DirectCallLanding\";\nimport DirectCallFullScreen from \"./components/pages/DirectCallFullScreen\";\n\nconst DirectCallApp = () => {\n    const { path } = useRouteMatch();\n\n    return (\n        <Switch>\n            <Route path={`${path}/full-screen`} component={DirectCallFullScreen} />\n            <Redirect to={`${path}/full-screen`} />\n            {/*<Route exact path={path} component={DirectCallLanding} />*/}\n        </Switch>\n    );\n}\n\nexport default DirectCallApp;\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport * as fonts from 'styles/fonts';\n\nexport type ChoiceProp = {\n  to: string;\n  title: string;\n  desc: string;\n  icon?: string;\n}\n\nconst ChoiceItemWrapper = styled.div<{ hasIcon: boolean }>`\n  display: inline-block;\n  width: 260px;\n  padding: 24px;\n  height: ${props => props.hasIcon ? '180px' : '140px'};\n  border-radius: 4px;\n  border: solid 1px #dee2f2;\n  background-color: var(--white);\n  cursor: pointer;\n  &:hover {\n    border: solid 1px var(--purple-300);\n  }\n`;\n\nconst ChoiceItem: React.FC<{ to: string; choice: ChoiceProp; }> & {\n  Icon: React.FC<{ src: string }>;\n  Title: React.FC;\n  Description: React.FC;\n} = ({ to, children, choice }) => {\n  const { title, desc, icon } = choice;\n\n  return (\n    <Link to={to}>\n      <ChoiceItemWrapper hasIcon={!!icon}>\n        {icon && <ChoiceItem.Icon src={icon}></ChoiceItem.Icon>}\n        <ChoiceItem.Title>\n          {title}\n        </ChoiceItem.Title>\n        <ChoiceItem.Description>\n          {desc}\n        </ChoiceItem.Description>\n      </ChoiceItemWrapper>\n    </Link>\n  );\n}\n\nChoiceItem.Icon = styled.div<{ src: string; }>`\n  width: 24px;\n  height: 24px;\n  margin-bottom: 16px;\n  background-image: url(${props => props.src});\n  background-repeat: no-repeat;\n  background-position: center; \n`;\n\nChoiceItem.Title = styled.div`\n  margin-bottom: 8px;\n  width: 88px;\n  height: 24px;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 1.33;\n  letter-spacing: -0.25px;\n  color: var(--navy-900);\n`;\n\nChoiceItem.Description = styled.div`\n  ${fonts.normal};\n  width: 212px;\n  height: 60px;\n  letter-spacing: -0.1px;\n  color: var(--navy-600);\n`;\n\nexport default ChoiceItem;\n","import { ChoiceProp } from 'components/molecules/ChoiceItem/ChoiceItem';\nimport { useHistory } from 'react-router-dom';\nimport styled, { css } from 'styled-components';\nimport { useRouteMatch } from 'react-router-dom';\n\nimport ChoiceItem from 'components/molecules/ChoiceItem';\nimport * as fonts from 'styles/fonts';\nimport * as mixins from 'styles/mixins';\nimport { media } from 'utils';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  margin-top: 198px;\n  ${mixins.flexCenter};\n  ${mixins.bgWhite};\n`;\n\nconst Title = styled.div<{ hasBack?: boolean; }>`\n  margin-top: ${props => props.hasBack ? 'calc(256px - 198px - 20px)' : 'calc(256px - 198px)'} ;\n  ${fonts.title};\n  ${fonts.demi};\n  text-align: center;\n`;\n\nconst Description = styled.div`\n  ${fonts.normal};\n  height: 20px;\n  font-weight: 500;\n  letter-spacing: -0.1px;\n  color: var(--navy-600);\n  margin-top: 8px;\n`;\n\nconst Layout = styled.div`\n  ${mixins.flexColumn};\n  ${mixins.flexCenter};\n`;\n\nconst Choices = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 32px;\n  & > a:last-child {\n    margin-right: 0;\n  }\n  \n  & > a {\n    margin-right: 24px;\n    margin-bottom: 24px;\n  }\n  \n  ${media.tablet} {\n    flex-direction: row;\n    & > a {\n      margin-bottom: 0;\n    }\n  }\n`;\n\n\nconst BackWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  height: 20px;\n  ${fonts.normal};\n  color: var(--purple-300);\n  ${fonts.demi};\n  cursor: pointer;\n`\nconst BackIcon = styled.div`\n  width: 20px;\n  height: 20px;\n  margin-right: 4px;\n  background-image: url(/icons/ic-arrow-left.svg);\n`\nconst Back = () => {\n  const history = useHistory();\n  return (\n    <BackWrapper onClick={() => { history.goBack() }}>\n      <BackIcon />Back\n    </BackWrapper>\n  )\n}\n\nconst ChoicesTemp: React.FC<{\n  title: string;\n  desc: string;\n  choices: ChoiceProp[];\n  hasBack?: boolean;\n}> = ({\n  title,\n  desc,\n  choices,\n  hasBack,\n}) => {\n  const { url } = useRouteMatch();\n  const matchRelativeUrl = url[url.length - 1] === '/' ? url.substr(0, url.length - 1) : url;\n\n  return (\n    <Wrapper>\n      <Layout>\n        {hasBack && <Back />}\n        <Title hasBack={hasBack}>{title}</Title>\n        <Description>{desc}</Description>\n        <Choices>\n          {choices.map((choice) => (\n            <ChoiceItem to={`${matchRelativeUrl}/${choice.to}`} choice={choice} key={choice.to}>\n            </ChoiceItem>\n          ))}\n        </Choices>\n      </Layout>\n\n    </Wrapper>\n  );\n}\n\nexport default ChoicesTemp;\n","import ChoicesTemp from '../../templates/Choices';\nimport styled from 'styled-components';\nimport * as mixins from 'styles/mixins';\n\nconst Wrapper = styled.div`\n  ${mixins.fullScreen};\n  ${mixins.bgWhite};\n  padding: 33px;\n`;\n\nconst Logo = styled.img`\n  display: block;\n  width: 122px;\n  height: 27px;\n`;\n\nconst LandingPage = () => {\n\n  return (\n    <Wrapper>\n      <Logo\n        src=\"/icons/ic-logo-horizontal.svg\"\n        alt=\"Sendbird horizontal logo svg icon\"\n      />\n      <ChoicesTemp\n        title=\"Sendbird Calls\"\n        desc=\"Choose the call type you want to use.\"\n        choices={[{\n          to: 'direct-call',\n          title: 'Direct Call',\n          icon: '/icons/ic-direct-call-filled.svg',\n          desc: 'Using a web application, make 1-to-1 voice and video calls on a full-screen or a widget.'\n        }, {\n          to: 'group-call',\n          title: 'Group Call',\n          icon: '/icons/ic-group-call-filled.svg',\n          desc: 'In Rooms, multiple users can come in to participate in group calls. '\n        }]}\n        />\n    </Wrapper>\n  );\n}\n\nexport default LandingPage;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport { ToastContainer, Flip } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './styles/toast.override.css';\nimport LoginPage from 'components/pages/LoginPage';\n\nimport GroupCallApp from './GroupCallApp';\nimport DirectCallApp from './DirectCallApp';\nimport LandingPage from './components/pages/LandingPage';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={LandingPage} />\n        <Route path=\"/direct-call\" component={DirectCallApp} />\n        <Route path=\"/group-call\" component={GroupCallApp} />\n        <Route path=\"/login\" component={LoginPage} />\n      </Switch>\n\n      <ToastContainer\n        position=\"bottom-left\"\n        autoClose={false}\n        transition={Flip}\n        hideProgressBar\n        closeOnClick\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport './styled.d';\nimport { ThemeProvider } from 'styled-components';\n\nimport './styles/globals.css';\nimport App from './App';\nimport { SbCallsProvider } from './lib/sendbird-calls';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <SbCallsProvider appId=\"\">\n      <ThemeProvider theme={{ isWidget: false }}>\n        <App/>\n      </ThemeProvider>\n    </SbCallsProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export * from './SbCallsContext';\nexport * from 'sendbird-calls';\nexport { default } from 'sendbird-calls';\n"],"sourceRoot":""}